{"version":3,"sources":["./src/addons/mod/lesson/pages/player/player.html","./src/addons/mod/quiz/pages/player/player.html","./src/addons/mod/lesson/pages/player/player.module.ts","./src/addons/mod/lesson/pages/player/player.page.ts","./src/addons/mod/lesson/pages/player/player.scss","./src/addons/mod/quiz/classes/auto-save.ts","./src/addons/mod/quiz/pages/player/player.module.ts","./src/addons/mod/quiz/pages/player/player.page.ts","./src/addons/mod/quiz/pages/player/player.scss"],"names":[],"mappings":"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","file":"pages-player-player-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>\\r\\n                <core-format-text [text]=\\\"title\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                </core-format-text>\\r\\n            </h1>\\r\\n        </ion-title>\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" *ngIf=\\\"displayMenu || mediaFile\\\" [attr.aria-label]=\\\"'addon.mod_lesson.lessonmenu' | translate\\\"\\r\\n                (click)=\\\"showMenu()\\\">\\r\\n                <ion-icon name=\\\"fas-bookmark\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"limited-width\\\">\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <!-- Info messages. Only show the first one. -->\\r\\n        <ion-card class=\\\"core-info-card\\\" *ngIf=\\\"lesson && messages?.length\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-icon name=\\\"fas-info-circle\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                <ion-label>{{ messages[0].message }}</ion-label>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n        <div *ngIf=\\\"lesson\\\" [ngClass]='{\\\"addon-mod_lesson-slideshow\\\": lesson.slideshow}'\\r\\n            [ngStyle]=\\\"{'width': lessonWidth, 'height': lessonHeight}\\\">\\r\\n\\r\\n            <core-timer *ngIf=\\\"endTime\\\" [endTime]=\\\"endTime\\\" (finished)=\\\"timeUp()\\\" [timeLeftClassThreshold]=\\\"-1\\\"\\r\\n                [timerText]=\\\"'addon.mod_lesson.timeremaining' | translate\\\">\\r\\n            </core-timer>\\r\\n\\r\\n            <!-- Retake and ongoing score. -->\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"showRetake && !eolData && !processData\\\">\\r\\n                <ion-label>\\r\\n                    <p>{{ 'addon.mod_lesson.attempt' | translate:{$a: retake} }}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item *ngIf=\\\"pageData && pageData.ongoingscore && !eolData && !processData\\\"\\r\\n                class=\\\"addon-mod_lesson-ongoingscore ion-text-wrap\\\">\\r\\n                <ion-label>{{ pageData.ongoingscore }}</ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n            <!-- Page content. -->\\r\\n            <ion-card *ngIf=\\\"!eolData && !processData\\\">\\r\\n                <!-- Content page. -->\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"!question && pageContent\\\">\\r\\n                    <ion-label>\\r\\n                        <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson.coursemodule\\\" [text]=\\\"pageContent\\\"\\r\\n                            contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                        </core-format-text>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n\\r\\n                <!-- Question page. -->\\r\\n                <!-- We need to set ngIf loaded to make formGroup directive restart every time a page changes, see MOBILE-2540. -->\\r\\n                <form *ngIf=\\\"question && loaded\\\" [formGroup]=\\\"questionForm\\\" #questionFormEl (ngSubmit)=\\\"submitQuestion($event)\\\">\\r\\n\\r\\n                    <ion-item-divider class=\\\"ion-text-wrap\\\" *ngIf=\\\"pageContent\\\">\\r\\n                        <ion-label>\\r\\n                            <h2>\\r\\n                                <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson?.coursemodule\\\" [text]=\\\"pageContent\\\"\\r\\n                                    contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                                </core-format-text>\\r\\n                            </h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n\\r\\n                    <!-- Render a different input depending on the type of the question. -->\\r\\n                    <ng-container [ngSwitch]=\\\"question.template\\\">\\r\\n\\r\\n                        <!-- Short answer. -->\\r\\n                        <ion-item class=\\\"ion-text-wrap\\\" *ngSwitchCase=\\\"'shortanswer'\\\">\\r\\n                            <ion-label class=\\\"sr-only\\\" stacked></ion-label>\\r\\n                            <ion-input [type]=\\\"question.input!.type\\\" placeholder=\\\"{{ 'addon.mod_lesson.youranswer' | translate }}\\\"\\r\\n                                [id]=\\\"question.input!.id\\\" [formControlName]=\\\"question.input!.name\\\" autocorrect=\\\"off\\\"\\r\\n                                [maxlength]=\\\"question.input!.maxlength\\\">\\r\\n                            </ion-input>\\r\\n                        </ion-item>\\r\\n\\r\\n                        <!-- Essay. -->\\r\\n                        <ng-container *ngSwitchCase=\\\"'essay'\\\">\\r\\n                            <ion-item *ngIf=\\\"question.textarea\\\">\\r\\n                                <ion-label class=\\\"sr-only\\\">{{ 'core.content' | translate }}</ion-label>\\r\\n                                <core-rich-text-editor placeholder=\\\"{{ 'addon.mod_lesson.youranswer' | translate }}\\\"\\r\\n                                    [control]=\\\"question.control\\\" [component]=\\\"component\\\" [componentId]=\\\"lesson?.coursemodule\\\"\\r\\n                                    [autoSave]=\\\"true\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\"\\r\\n                                    elementId=\\\"answer_editor\\\">\\r\\n                                </core-rich-text-editor>\\r\\n                            </ion-item>\\r\\n                            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"!question.textarea && question.useranswer\\\">\\r\\n                                <ion-label>\\r\\n                                    <h3 class=\\\"item-heading\\\">{{ 'addon.mod_lesson.youranswer' | translate }}</h3>\\r\\n                                    <p>\\r\\n                                        <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson?.coursemodule\\\"\\r\\n                                            [text]=\\\"question.useranswer\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\"\\r\\n                                            [courseId]=\\\"courseId\\\">\\r\\n                                        </core-format-text>\\r\\n                                    </p>\\r\\n                                </ion-label>\\r\\n                            </ion-item>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <!-- Multichoice. -->\\r\\n                        <ng-container *ngSwitchCase=\\\"'multichoice'\\\">\\r\\n                            <!-- Single choice. -->\\r\\n                            <ion-radio-group *ngIf=\\\"!question.multi\\\" [formControlName]=\\\"question.controlName\\\">\\r\\n                                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let option of question.options\\\">\\r\\n                                    <ion-label>\\r\\n                                        <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson.coursemodule\\\" [text]=\\\"option.text\\\"\\r\\n                                            contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                                        </core-format-text>\\r\\n                                    </ion-label>\\r\\n                                    <ion-radio slot=\\\"end\\\" [id]=\\\"option.id\\\" [value]=\\\"option.value\\\" [disabled]=\\\"option.disabled\\\">\\r\\n                                    </ion-radio>\\r\\n                                </ion-item>\\r\\n                            </ion-radio-group>\\r\\n\\r\\n                            <!-- Multiple choice. -->\\r\\n                            <ng-container *ngIf=\\\"question.multi\\\">\\r\\n                                <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let option of question.options\\\">\\r\\n                                    <ion-label>\\r\\n                                        <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson?.coursemodule\\\" [text]=\\\"option.text\\\"\\r\\n                                            contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                                        </core-format-text>\\r\\n                                    </ion-label>\\r\\n                                    <ion-checkbox [id]=\\\"option.id\\\" [formControlName]=\\\"option.name\\\" slot=\\\"end\\\"></ion-checkbox>\\r\\n                                </ion-item>\\r\\n                            </ng-container>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <!-- Matching. -->\\r\\n                        <ng-container *ngSwitchCase=\\\"'matching'\\\">\\r\\n                            <ion-item class=\\\"ion-text-wrap\\\" *ngFor=\\\"let row of question.rows\\\">\\r\\n                                <ion-label>\\r\\n                                    <p>\\r\\n                                        <core-format-text id=\\\"addon-mod_lesson-matching-{{row.id}}\\\" [component]=\\\"component\\\"\\r\\n                                            [componentId]=\\\"lesson?.coursemodule\\\" [text]=\\\"row.text\\\" contextLevel=\\\"module\\\"\\r\\n                                            [contextInstanceId]=\\\"lesson?.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                                        </core-format-text>\\r\\n                                    </p>\\r\\n                                </ion-label>\\r\\n                                <ion-select [id]=\\\"row.id\\\" [formControlName]=\\\"row.name\\\" interface=\\\"action-sheet\\\"\\r\\n                                    [attr.aria-labelledby]=\\\"'addon-mod_lesson-matching-' + row.id\\\">\\r\\n                                    <ion-select-option *ngFor=\\\"let option of row.options\\\" [value]=\\\"option.value\\\">\\r\\n                                        {{option.label}}\\r\\n                                    </ion-select-option>\\r\\n                                </ion-select>\\r\\n                            </ion-item>\\r\\n                        </ng-container>\\r\\n                    </ng-container>\\r\\n\\r\\n                    <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"ion-text-wrap ion-margin button-no-uppercase\\\">\\r\\n                        {{ question.submitLabel }}\\r\\n                    </ion-button>\\r\\n                    <!-- Remove this once Ionic fixes this bug: https://github.com/ionic-team/ionic-framework/issues/19368 -->\\r\\n                    <input type=\\\"submit\\\" class=\\\"core-submit-hidden-enter\\\" />\\r\\n                </form>\\r\\n            </ion-card>\\r\\n\\r\\n            <!-- Page buttons and progress. -->\\r\\n            <ion-list *ngIf=\\\"!eolData && !processData\\\">\\r\\n                <ion-grid *ngIf=\\\"pageButtons?.length\\\" class=\\\"ion-text-wrap addon-mod_lesson-pagebuttons\\\">\\r\\n                    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                        <ion-col *ngFor=\\\"let button of pageButtons\\\" size=\\\"12\\\" size-md=\\\"6\\\" size-lg=\\\"3\\\" col-xl>\\r\\n                            <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" [id]=\\\"button.id\\\" (click)=\\\"buttonClicked(button.data)\\\"\\r\\n                                class=\\\"ion-text-wrap button-no-uppercase\\\">\\r\\n                                {{ button.content }}\\r\\n                            </ion-button>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-grid>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"lesson?.progressbar && !canManage && pageData\\\">\\r\\n                    <ion-label>\\r\\n                        <span id=\\\"addon-mod_lesson-{{cmId}}-progress\\\">\\r\\n                            {{ 'addon.mod_lesson.progresscompleted' | translate:{$a: pageData.progress} }}\\r\\n                        </span>\\r\\n                        <core-progress-bar [progress]=\\\"pageData.progress\\\" ariaDescribedBy=\\\"addon-mod_lesson-{{cmId}}-progress\\\">\\r\\n                        </core-progress-bar>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-card class=\\\"core-info-card\\\" *ngIf=\\\"lesson?.progressbar && canManage\\\">\\r\\n                    <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-icon name=\\\"fas-info-circle\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                        <ion-label>{{ 'addon.mod_lesson.progressbarteacherwarning2' | translate }}</ion-label>\\r\\n                    </ion-item>\\r\\n                </ion-card>\\r\\n            </ion-list>\\r\\n\\r\\n            <!-- End of lesson reached. -->\\r\\n            <ion-card class=\\\"core-warning-card\\\" *ngIf=\\\"eolData && !processData && eolData.offline?.value\\\">\\r\\n                <ion-item>\\r\\n                    <ion-icon name=\\\"fas-exclamation-triangle\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                    <ion-label>{{ 'addon.mod_lesson.finishretakeoffline' | translate }}</ion-label>\\r\\n                </ion-item>\\r\\n            </ion-card>\\r\\n\\r\\n            <ion-card *ngIf=\\\"eolData && !processData\\\">\\r\\n\\r\\n                <ion-card-header class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.gradelesson\\\">\\r\\n                    <ion-card-title>{{ 'addon.mod_lesson.congratulations' | translate }}</ion-card-title>\\r\\n                </ion-card-header>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.notenoughtimespent\\\">\\r\\n                    <ion-label>{{ eolData.notenoughtimespent.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.numberofpagesviewed\\\">\\r\\n                    <ion-label>{{ eolData.numberofpagesviewed.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.youshouldview\\\">\\r\\n                    <ion-label>{{ eolData.youshouldview.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.numberofcorrectanswers\\\">\\r\\n                    <ion-label>{{ eolData.numberofcorrectanswers.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.displayscorewithessays\\\">\\r\\n                    <ion-label [innerHTML]=\\\"eolData.displayscorewithessays.message\\\"></ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"!eolData.displayscorewithessays && eolData.displayscorewithoutessays\\\">\\r\\n                    <ion-label>{{ eolData.displayscorewithoutessays.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.yourcurrentgradeisoutof\\\">\\r\\n                    <ion-label>{{ eolData.yourcurrentgradeisoutof.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.eolstudentoutoftimenoanswers\\\">\\r\\n                    <ion-label>{{ eolData.eolstudentoutoftimenoanswers.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.welldone\\\">\\r\\n                    <ion-label>{{ eolData.welldone.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"lesson.progressbar && eolData.progresscompleted\\\">\\r\\n                    <ion-label>\\r\\n                        <span id=\\\"addon-mod_lesson-{{cmId}}-progress-end\\\">\\r\\n                            {{ 'addon.mod_lesson.progresscompleted' | translate:{$a: eolData.progresscompleted.value} }}\\r\\n                        </span>\\r\\n                        <core-progress-bar [progress]=\\\"eolData.progresscompleted.value\\\"\\r\\n                            ariaDescribedBy=\\\"addon-mod_lesson-{{cmId}}-progress-end\\\">\\r\\n                        </core-progress-bar>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.displayofgrade\\\">\\r\\n                    <ion-label>{{ eolData.displayofgrade.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-button *ngIf=\\\"eolData.reviewlesson\\\" expand=\\\"block\\\" class=\\\"ion-text-wrap ion-margin button-no-uppercase\\\"\\r\\n                    (click)=\\\"reviewLesson(reviewPageId!)\\\">\\r\\n                    {{ 'addon.mod_lesson.reviewlesson' | translate }}\\r\\n                </ion-button>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"eolData.modattemptsnoteacher\\\">\\r\\n                    <ion-label>{{ eolData.modattemptsnoteacher.message }}</ion-label>\\r\\n                </ion-item>\\r\\n                <!-- If activity link was successfully formatted, render the button. -->\\r\\n                <ion-button *ngIf=\\\"activityLink && activityLink.formatted\\\" expand=\\\"block\\\" fill=\\\"outline\\\" [href]=\\\"activityLink.href\\\"\\r\\n                    core-link [capture]=\\\"true\\\" class=\\\"ion-text-wrap ion-margin button-no-uppercase\\\">\\r\\n                    <core-format-text [text]=\\\"activityLink.label\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\"\\r\\n                        [courseId]=\\\"courseId\\\">\\r\\n                    </core-format-text>\\r\\n                </ion-button>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"activityLink && !activityLink.formatted\\\">\\r\\n                    <!-- Activity link wasn't formatted, render the original link. -->\\r\\n                    <ion-label>\\r\\n                        <core-format-text [text]=\\\"activityLink.label\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\"\\r\\n                            [courseId]=\\\"courseId\\\">\\r\\n                        </core-format-text>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-card>\\r\\n\\r\\n            <!-- Feedback returned when processing an action. -->\\r\\n            <ion-list *ngIf=\\\"processData\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"processData.ongoingscore && !processData.reviewmode\\\">\\r\\n                    <ion-label>{{ processData.ongoingscore }}</ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"!processData.reviewmode || review\\\">\\r\\n                    <ion-label>\\r\\n                        <div *ngIf=\\\"!processData.reviewmode\\\">\\r\\n                            <core-format-text [component]=\\\"component\\\" [componentId]=\\\"lesson?.coursemodule\\\" [text]=\\\"processData.feedback\\\"\\r\\n                                contextLevel=\\\"module\\\" [contextInstanceId]=\\\"lesson?.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                            </core-format-text>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"review\\\">\\r\\n                            <p>{{ 'addon.mod_lesson.gotoendoflesson' | translate }}</p>\\r\\n                            <p>{{ 'addon.mod_lesson.or' | translate }}</p>\\r\\n                            <p>{{ 'addon.mod_lesson.continuetonextpage' | translate }}</p>\\r\\n                        </div>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n\\r\\n                <ion-button expand=\\\"block\\\" class=\\\"ion-text-wrap ion-margin\\\" *ngIf=\\\"review\\\" (click)=\\\"changePage(LESSON_EOL)\\\">\\r\\n                    {{ 'addon.mod_lesson.finish' | translate }}\\r\\n                </ion-button>\\r\\n                <ion-button expand=\\\"block\\\" class=\\\"ion-text-wrap ion-margin\\\" fill=\\\"outline\\\" *ngFor=\\\"let button of processDataButtons\\\"\\r\\n                    (click)=\\\"changePage(button.pageId, true)\\\">\\r\\n                    {{ button.label | translate }}\\r\\n                </ion-button>\\r\\n            </ion-list>\\r\\n        </div>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>\\r\\n                <core-format-text *ngIf=\\\"quiz\\\" [text]=\\\"quiz.name\\\" contextLevel=\\\"module\\\" [contextInstanceId]=\\\"quiz.coursemodule\\\"\\r\\n                    [courseId]=\\\"courseId\\\">\\r\\n                </core-format-text>\\r\\n            </h1>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button fill=\\\"clear\\\" id=\\\"addon-mod_quiz-connection-error-button\\\" [hidden]=\\\"!autoSaveError\\\"\\r\\n                (click)=\\\"showConnectionError($event)\\\" [attr.aria-label]=\\\"'addon.mod_quiz.connectionerror' | translate\\\"\\r\\n                aria-haspopup=\\\"dialog\\\">\\r\\n                <ion-icon name=\\\"fas-exclamation-circle\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n            <ion-button *ngIf=\\\"navigation.length\\\" [attr.aria-label]=\\\"'addon.mod_quiz.opentoc' | translate\\\" (click)=\\\"openNavigation()\\\">\\r\\n                <ion-icon name=\\\"fas-bookmark\\\" slot=\\\"icon-only\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n    <!-- Navigation arrows and time left. -->\\r\\n    <ion-toolbar *ngIf=\\\"loaded && endTime && questions.length && !quizAborted && !showSummary\\\" color=\\\"light\\\">\\r\\n        <ion-title>\\r\\n            <core-timer [endTime]=\\\"endTime\\\" (finished)=\\\"timeUp()\\\" [timerText]=\\\"'addon.mod_quiz.timeleft' | translate\\\" [align]=\\\"'center'\\\">\\r\\n            </core-timer>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"limited-width\\\">\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\" class=\\\"has-spacer\\\">\\r\\n        <!-- Button to start attempting. -->\\r\\n        <ion-button *ngIf=\\\"!attempt\\\" expand=\\\"block\\\" class=\\\"ion-margin\\\" (click)=\\\"start()\\\">\\r\\n            {{ 'addon.mod_quiz.startattempt' | translate }}\\r\\n        </ion-button>\\r\\n\\r\\n        <!-- Questions -->\\r\\n        <form name=\\\"addon-mod_quiz-player-form\\\" *ngIf=\\\"questions.length && !quizAborted && !showSummary\\\" #quizForm>\\r\\n            <div *ngFor=\\\"let question of questions\\\">\\r\\n                <ion-card id=\\\"addon-mod_quiz-question-{{question.slot}}\\\">\\r\\n                    <!-- \\\"Header\\\" of the question. -->\\r\\n                    <ion-item-divider>\\r\\n                        <ion-label>\\r\\n                            <h2 *ngIf=\\\"question.number\\\" class=\\\"inline\\\">\\r\\n                                {{ 'core.question.questionno' | translate:{$a: question.number} }}\\r\\n                            </h2>\\r\\n                            <h2 *ngIf=\\\"!question.number\\\" class=\\\"inline\\\">{{ 'core.question.information' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                        <div *ngIf=\\\"question.status || question.readableMark\\\" slot=\\\"end\\\"\\r\\n                            class=\\\"ion-text-wrap ion-margin-horizontal addon-mod_quiz-question-note\\\">\\r\\n                            <p *ngIf=\\\"question.status\\\" class=\\\"block\\\">{{question.status}}</p>\\r\\n                            <p *ngIf=\\\"question.readableMark\\\">{{ question.readableMark }}</p>\\r\\n                        </div>\\r\\n                    </ion-item-divider>\\r\\n\\r\\n                    <!-- Body of the question. -->\\r\\n                    <core-question class=\\\"ion-text-wrap\\\" [question]=\\\"question\\\" [component]=\\\"component\\\" [componentId]=\\\"cmId\\\"\\r\\n                        [attemptId]=\\\"attempt!.id\\\" [usageId]=\\\"attempt!.uniqueid\\\" [offlineEnabled]=\\\"offline\\\" contextLevel=\\\"module\\\"\\r\\n                        [contextInstanceId]=\\\"cmId\\\" [courseId]=\\\"courseId\\\" [preferredBehaviour]=\\\"quiz!.preferredbehaviour\\\" [review]=\\\"false\\\"\\r\\n                        (onAbort)=\\\"abortQuiz()\\\" (buttonClicked)=\\\"behaviourButtonClicked($event)\\\">\\r\\n                    </core-question>\\r\\n                </ion-card>\\r\\n            </div>\\r\\n        </form>\\r\\n\\r\\n        <!-- Go to next or previous page. -->\\r\\n        <ion-row *ngIf=\\\"questions.length && !quizAborted && !showSummary\\\" class=\\\"spacer-top\\\">\\r\\n            <ion-col *ngIf=\\\"previousPage >= 0\\\">\\r\\n                <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"changePage(previousPage)\\\" class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-icon name=\\\"fas-chevron-left\\\" slot=\\\"start\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                    {{ 'core.previous' | translate }}\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n            <ion-col *ngIf=\\\"nextPage >= -1\\\">\\r\\n                <ion-button expand=\\\"block\\\" (click)=\\\"changePage(nextPage)\\\" class=\\\"ion-text-wrap\\\" *ngIf=\\\"nextPage > 0\\\">\\r\\n                    {{ 'core.next' | translate }}\\r\\n                    <ion-icon name=\\\"fas-chevron-right\\\" slot=\\\"end\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n                <ion-button expand=\\\"block\\\" (click)=\\\"changePage(nextPage)\\\" class=\\\"ion-text-wrap\\\" *ngIf=\\\"nextPage == -1\\\">\\r\\n                    {{ 'core.submit' | translate }}\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <!-- Summary -->\\r\\n        <ion-card *ngIf=\\\"!quizAborted && showSummary && summaryQuestions.length\\\" class=\\\"addon-mod_quiz-table\\\">\\r\\n            <ion-card-header class=\\\"ion-text-wrap\\\">\\r\\n                <ion-card-title>{{ 'addon.mod_quiz.summaryofattempt' | translate }}</ion-card-title>\\r\\n            </ion-card-header>\\r\\n\\r\\n            <!-- \\\"Header\\\" of the summary table. -->\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                        <ion-col size=\\\"3\\\" class=\\\"ion-text-center ion-hide-md-down\\\">\\r\\n                            <strong>{{ 'addon.mod_quiz.question' | translate }}</strong>\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"3\\\" class=\\\"ion-text-center ion-hide-md-up\\\"><strong>#</strong></ion-col>\\r\\n                        <ion-col size=\\\"9\\\" class=\\\"ion-text-center\\\">\\r\\n                            <strong>{{ 'addon.mod_quiz.status' | translate }}</strong>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n            <!-- List of questions of the summary table. -->\\r\\n            <ng-container *ngFor=\\\"let question of summaryQuestions\\\">\\r\\n                <ion-item *ngIf=\\\"question.number\\\" (click)=\\\"changePage(question.page, false, question.slot)\\\"\\r\\n                    [attr.aria-label]=\\\"'core.question.questionno' | translate:{$a: question.number}\\\" [detail]=\\\"!isSequential && canReturn\\\"\\r\\n                    [button]=\\\"!isSequential && canReturn\\\">\\r\\n                    <ion-label>\\r\\n                        <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                            <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">{{ question.number }}</ion-col>\\r\\n                            <ion-col size=\\\"9\\\" class=\\\"ion-text-center ion-text-wrap\\\">{{ question.status }}</ion-col>\\r\\n                        </ion-row>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ng-container>\\r\\n\\r\\n            <!-- Due date warning. -->\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"dueDateWarning\\\">\\r\\n                <ion-label>{{ dueDateWarning }}</ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n            <!-- Time left (if quiz is timed). -->\\r\\n            <core-timer *ngIf=\\\"endTime\\\" [endTime]=\\\"endTime\\\" (finished)=\\\"timeUp()\\\" [timerText]=\\\"'addon.mod_quiz.timeleft' | translate\\\">\\r\\n            </core-timer>\\r\\n\\r\\n            <!-- List of messages explaining why the quiz cannot be submitted. -->\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"preventSubmitMessages.length\\\">\\r\\n                <ion-label>\\r\\n                    <h3 class=\\\"item-heading\\\">{{ 'addon.mod_quiz.cannotsubmitquizdueto' | translate }}</h3>\\r\\n                    <p *ngFor=\\\"let message of preventSubmitMessages\\\">{{message}}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n        <!-- Quiz aborted -->\\r\\n        <ion-card *ngIf=\\\"attempt && ((!questions.length && !showSummary) || quizAborted)\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>{{ 'addon.mod_quiz.errorparsequestions' | translate }}</ion-label>\\r\\n            </ion-item>\\r\\n            <ion-button *ngIf=\\\"canReturn\\\" expand=\\\"block\\\" class=\\\"ion-margin ion-text-wrap\\\" fill=\\\"outline\\\"\\r\\n                (click)=\\\"changePage(attempt!.currentpage!)\\\">\\r\\n                {{ 'addon.mod_quiz.returnattempt' | translate }}\\r\\n            </ion-button>\\r\\n        </ion-card>\\r\\n\\r\\n        <div collapsible-footer appearOnBottom *ngIf=\\\"!quizAborted && showSummary && summaryQuestions.length && loaded\\\" slot=\\\"fixed\\\"\\r\\n            class=\\\"list-item-limited-width\\\">\\r\\n            <ion-button *ngIf=\\\"preventSubmitMessages.length\\\" expand=\\\"block\\\" class=\\\"ion-margin ion-text-wrap\\\" [href]=\\\"moduleUrl\\\" core-link\\r\\n                [showBrowserWarning]=\\\"false\\\">\\r\\n                {{ 'core.openinbrowser' | translate }}\\r\\n                <ion-icon name=\\\"fas-external-link-alt\\\" slot=\\\"end\\\" aria-hidden=\\\"true\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n\\r\\n            <!-- Button to submit the quiz. -->\\r\\n            <ion-button *ngIf=\\\"!attempt!.finishedOffline && !preventSubmitMessages.length\\\" expand=\\\"block\\\" class=\\\"ion-margin ion-text-wrap\\\"\\r\\n                (click)=\\\"finishAttempt(true)\\\">\\r\\n                {{ 'addon.mod_quiz.submitallandfinish' | translate }}\\r\\n            </ion-button>\\r\\n        </div>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { AddonModLessonPlayerPage } from './player.page';\r\nimport { CoreEditorComponentsModule } from '@features/editor/components/components.module';\r\nimport { CanLeaveGuard } from '@guards/can-leave';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonModLessonPlayerPage,\r\n        canDeactivate: [CanLeaveGuard],\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n        CoreEditorComponentsModule,\r\n    ],\r\n    declarations: [\r\n        AddonModLessonPlayerPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class AddonModLessonPlayerPageModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ChangeDetectorRef, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { IonContent } from '@ionic/angular';\n\nimport { CoreError } from '@classes/errors/error';\nimport { CanLeave } from '@guards/can-leave';\nimport { CoreApp } from '@services/app';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites, CoreSitesCommonWSOptions, CoreSitesReadingStrategy } from '@services/sites';\nimport { CoreSync } from '@services/sync';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreWSExternalFile } from '@services/ws';\nimport { ModalController, Translate } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModLessonMenuModalPage } from '../../components/menu-modal/menu-modal';\nimport {\n    AddonModLesson,\n    AddonModLessonEOLPageDataEntry,\n    AddonModLessonFinishRetakeResponse,\n    AddonModLessonGetAccessInformationWSResponse,\n    AddonModLessonGetPageDataWSResponse,\n    AddonModLessonGetPagesPageWSData,\n    AddonModLessonLaunchAttemptWSResponse,\n    AddonModLessonLessonWSData,\n    AddonModLessonMessageWSData,\n    AddonModLessonPageWSData,\n    AddonModLessonPossibleJumps,\n    AddonModLessonProcessPageOptions,\n    AddonModLessonProcessPageResponse,\n    AddonModLessonProvider,\n} from '../../services/lesson';\nimport {\n    AddonModLessonActivityLink,\n    AddonModLessonHelper,\n    AddonModLessonPageButton,\n    AddonModLessonQuestion,\n} from '../../services/lesson-helper';\nimport { AddonModLessonOffline } from '../../services/lesson-offline';\nimport { AddonModLessonSync } from '../../services/lesson-sync';\nimport { CoreFormFields, CoreForms } from '@singletons/form';\n\n/**\n * Page that allows attempting and reviewing a lesson.\n */\n@Component({\n    selector: 'page-addon-mod-lesson-player',\n    templateUrl: 'player.html',\n    styleUrls: ['player.scss'],\n})\nexport class AddonModLessonPlayerPage implements OnInit, OnDestroy, CanLeave {\n\n    @ViewChild(IonContent) content?: IonContent;\n    @ViewChild('questionFormEl') formElement?: ElementRef;\n\n    component = AddonModLessonProvider.COMPONENT;\n    readonly LESSON_EOL = AddonModLessonProvider.LESSON_EOL;\n    questionForm?: FormGroup; // The FormGroup for question pages.\n    title?: string; // The page title.\n    lesson?: AddonModLessonLessonWSData; // The lesson object.\n    currentPage?: number; // Current page being viewed.\n    review?: boolean; // Whether the user is reviewing.\n    messages: AddonModLessonMessageWSData[] = []; // Messages to display to the user.\n    canManage?: boolean; // Whether the user can manage the lesson.\n    retake?: number; // Current retake number.\n    showRetake?: boolean; // Whether the retake number needs to be displayed.\n    lessonWidth?: string; // Width of the lesson (if slideshow mode).\n    lessonHeight?: string; // Height of the lesson (if slideshow mode).\n    endTime?: number; // End time of the lesson if it's timed.\n    pageData?: AddonModLessonGetPageDataWSResponse; // Current page data.\n    pageContent?: string; // Current page contents.\n    pageButtons?: AddonModLessonPageButton[]; // List of buttons of the current page.\n    question?: AddonModLessonQuestion; // Question of the current page (if it's a question page).\n    eolData?: Record<string, AddonModLessonEOLPageDataEntry>; // Data for EOL page (if current page is EOL).\n    processData?: AddonModLessonProcessPageResponse; // Data to display after processing a page.\n    processDataButtons: ProcessDataButton[] = []; // Buttons to display after processing a page.\n    loaded?: boolean; // Whether data has been loaded.\n    displayMenu?: boolean; // Whether the lesson menu should be displayed.\n    originalData?: CoreFormFields; // Original question data. It is used to check if data has changed.\n    reviewPageId?: number; // Page to open if the user wants to review the attempt.\n    courseId!: number; // The course ID the lesson belongs to.\n    lessonPages?: AddonModLessonPageWSData[]; // Lesson pages (for the lesson menu).\n    loadingMenu?: boolean; // Whether the lesson menu is being loaded.\n    mediaFile?: CoreWSExternalFile; // Media file of the lesson.\n    activityLink?: AddonModLessonActivityLink; // Next activity link data.\n    cmId!: number; // Course module ID.\n\n    protected password?: string; // Lesson password (if any).\n    protected forceLeave = false; // If true, don't perform any check when leaving the view.\n    protected offline?: boolean; // Whether we are in offline mode.\n    protected accessInfo?: AddonModLessonGetAccessInformationWSResponse; // Lesson access info.\n    protected jumps?: AddonModLessonPossibleJumps; // All possible jumps.\n    protected firstPageLoaded?: boolean; // Whether the first page has been loaded.\n    protected retakeToReview?: number; // Retake to review.\n    protected menuShown = false; // Whether menu is shown.\n\n    constructor(\n        protected changeDetector: ChangeDetectorRef,\n        protected formBuilder: FormBuilder,\n    ) {\n    }\n\n    /**\n     * Component being initialized.\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.cmId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            this.password = CoreNavigator.getRouteParam('password');\n            this.review = !!CoreNavigator.getRouteBooleanParam('review');\n            this.currentPage = CoreNavigator.getRouteNumberParam('pageId');\n            this.retakeToReview = CoreNavigator.getRouteNumberParam('retake');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        try {\n            // Fetch the Lesson data.\n            const success = await this.fetchLessonData();\n            if (success) {\n                // Review data loaded or new retake started, remove any retake being finished in sync.\n                AddonModLessonSync.deleteRetakeFinishedInSync(this.lesson!.id);\n            }\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Component being destroyed.\n     */\n    ngOnDestroy(): void {\n        if (this.lesson) {\n            // Unblock the lesson so it can be synced.\n            CoreSync.unblockOperation(this.component, this.lesson.id);\n        }\n    }\n\n    /**\n     * Check if we can leave the page or not.\n     *\n     * @return Resolved if we can leave it, rejected if not.\n     */\n    async canLeave(): Promise<boolean> {\n        if (this.forceLeave || !this.questionForm) {\n            return true;\n        }\n\n        if (this.question && !this.eolData && !this.processData && this.originalData) {\n            // Question shown. Check if there is any change.\n            if (!CoreUtils.basicLeftCompare(this.questionForm.getRawValue(), this.originalData, 3)) {\n                await CoreDomUtils.showConfirm(Translate.instant('core.confirmcanceledit'));\n            }\n        }\n\n        CoreForms.triggerFormCancelledEvent(this.formElement, CoreSites.getCurrentSiteId());\n\n        return true;\n    }\n\n    /**\n     * Runs when the page is about to leave and no longer be the active page.\n     */\n    ionViewWillLeave(): void {\n        if (this.menuShown) {\n            ModalController.dismiss();\n        }\n    }\n\n    /**\n     * A button was clicked.\n     *\n     * @param data Button data.\n     */\n    buttonClicked(data: Record<string, string>): void {\n        this.processPage(data);\n    }\n\n    /**\n     * Call a function and go offline if allowed and the call fails.\n     *\n     * @param func Function to call.\n     * @param options Options passed to the function.\n     * @return Promise resolved in success, rejected otherwise.\n     */\n    protected async callFunction<T>(func: () => Promise<T>, options: CommonOptions): Promise<T> {\n        try {\n            return await func();\n        } catch (error) {\n            if (this.offline || this.review || !AddonModLesson.isLessonOffline(this.lesson!)) {\n                // Already offline or not allowed.\n                throw error;\n            }\n\n            if (CoreUtils.isWebServiceError(error)) {\n                // WebService returned an error, cannot perform the action.\n                throw error;\n            }\n\n            // Go offline and retry.\n            this.offline = true;\n\n            // Get the possible jumps now.\n            this.jumps = await AddonModLesson.getPagesPossibleJumps(this.lesson!.id, {\n                cmId: this.cmId,\n                readingStrategy: CoreSitesReadingStrategy.PREFER_CACHE,\n            });\n\n            // Call the function again with offline mode and the new jumps.\n            options.readingStrategy = CoreSitesReadingStrategy.PREFER_CACHE;\n            options.jumps = this.jumps;\n            options.offline = true;\n\n            return func();\n        }\n    }\n\n    /**\n     * Change the page from menu or when continuing from a feedback page.\n     *\n     * @param pageId Page to load.\n     * @param ignoreCurrent If true, allow loading current page.\n     * @return Promise resolved when done.\n     */\n    async changePage(pageId: number, ignoreCurrent?: boolean): Promise<void> {\n        if (!ignoreCurrent && !this.eolData && this.currentPage == pageId) {\n            // Page already loaded, stop.\n            return;\n        }\n\n        this.loaded = true;\n        this.messages = [];\n\n        try {\n            await this.loadPage(pageId);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading page');\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Get the lesson data and load the page.\n     *\n     * @return Promise resolved with true if success, resolved with false otherwise.\n     */\n    protected async fetchLessonData(): Promise<boolean> {\n        try {\n            this.lesson = await AddonModLesson.getLesson(this.courseId, this.cmId);\n\n            this.title = this.lesson.name; // Temporary title.\n\n            // Block the lesson so it cannot be synced.\n            CoreSync.blockOperation(this.component, this.lesson.id);\n\n            // Wait for any ongoing sync to finish. We won't sync a lesson while it's being played.\n            await AddonModLessonSync.waitForSync(this.lesson.id);\n\n            // If lesson has offline data already, use offline mode.\n            this.offline = await AddonModLessonOffline.hasOfflineData(this.lesson.id);\n\n            if (!this.offline && !CoreApp.isOnline() && AddonModLesson.isLessonOffline(this.lesson) && !this.review) {\n                // Lesson doesn't have offline data, but it allows offline and the device is offline. Use offline mode.\n                this.offline = true;\n            }\n\n            const options = {\n                cmId: this.cmId,\n                readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            };\n            this.accessInfo = await this.callFunction<AddonModLessonGetAccessInformationWSResponse>(\n                AddonModLesson.getAccessInformation.bind(AddonModLesson.instance, this.lesson.id, options),\n                options,\n            );\n\n            const promises: Promise<void>[] = [];\n            this.canManage = this.accessInfo.canmanage;\n            this.retake = this.accessInfo.attemptscount;\n            this.showRetake = !this.currentPage && this.retake > 0; // Only show it in first page if it isn't the first retake.\n\n            if (this.accessInfo.preventaccessreasons.length) {\n                // If it's a password protected lesson and we have the password, allow playing it.\n                const preventReason = AddonModLesson.getPreventAccessReason(this.accessInfo, !!this.password, this.review);\n                if (preventReason) {\n                    // Lesson cannot be played, show message and go back.\n                    throw new CoreError(preventReason.message);\n                }\n            }\n\n            if (this.review && this.retakeToReview != this.accessInfo.attemptscount - 1) {\n                // Reviewing a retake that isn't the last one. Error.\n                throw new CoreError(Translate.instant('addon.mod_lesson.errorreviewretakenotlast'));\n            }\n\n            if (this.password) {\n                // Lesson uses password, get the whole lesson object.\n                const options = {\n                    password: this.password,\n                    cmId: this.cmId,\n                    readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n                };\n                promises.push(this.callFunction<AddonModLessonLessonWSData>(\n                    AddonModLesson.getLessonWithPassword.bind(AddonModLesson.instance, this.lesson.id, options),\n                    options,\n                ).then((lesson) => {\n                    this.lesson = lesson;\n\n                    return;\n                }));\n            }\n\n            if (this.offline) {\n                // Offline mode, get the list of possible jumps to allow navigation.\n                promises.push(AddonModLesson.getPagesPossibleJumps(this.lesson.id, {\n                    cmId: this.cmId,\n                    readingStrategy: CoreSitesReadingStrategy.PREFER_CACHE,\n                }).then((jumpList) => {\n                    this.jumps = jumpList;\n\n                    return;\n                }));\n            }\n\n            await Promise.all(promises);\n\n            this.mediaFile = this.lesson.mediafiles?.[0];\n            this.lessonWidth = this.lesson.slideshow ? CoreDomUtils.formatPixelsSize(this.lesson.mediawidth!) : '';\n            this.lessonHeight = this.lesson.slideshow ? CoreDomUtils.formatPixelsSize(this.lesson.mediaheight!) : '';\n\n            await this.launchRetake(this.currentPage);\n\n            return true;\n        } catch (error) {\n\n            if (this.review && this.retakeToReview && CoreUtils.isWebServiceError(error)) {\n                // The user cannot review the retake. Unmark the retake as being finished in sync.\n                await AddonModLessonSync.deleteRetakeFinishedInSync(this.lesson!.id);\n            }\n\n            CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n            this.forceLeave = true;\n            CoreNavigator.back();\n\n            return false;\n        }\n    }\n\n    /**\n     * Finish the retake.\n     *\n     * @param outOfTime Whether the retake is finished because the user ran out of time.\n     * @return Promise resolved when done.\n     */\n    protected async finishRetake(outOfTime?: boolean): Promise<void> {\n        this.messages = [];\n\n        if (this.offline && CoreApp.isOnline()) {\n            // Offline mode but the app is online. Try to sync the data.\n            const result = await CoreUtils.ignoreErrors(\n                AddonModLessonSync.syncLesson(this.lesson!.id, true, true),\n            );\n\n            if (result?.warnings?.length) {\n                // Some data was deleted. Check if the retake has changed.\n                const info = await AddonModLesson.getAccessInformation(this.lesson!.id, {\n                    cmId: this.cmId,\n                });\n\n                if (info.attemptscount != this.accessInfo!.attemptscount) {\n                    // The retake has changed. Leave the view and show the error.\n                    this.forceLeave = true;\n                    CoreNavigator.back();\n\n                    throw new CoreError(result.warnings[0]);\n                }\n\n                // Retake hasn't changed, show the warning and finish the retake in offline.\n                CoreDomUtils.showErrorModal(result.warnings[0]);\n            }\n\n            this.offline = false;\n        }\n\n        // Now finish the retake.\n        const options = {\n            password: this.password,\n            outOfTime,\n            review: this.review,\n            offline: this.offline,\n            accessInfo: this.accessInfo,\n        };\n        const data = await this.callFunction<AddonModLessonFinishRetakeResponse>(\n            AddonModLesson.finishRetake.bind(AddonModLesson.instance, this.lesson, this.courseId, options),\n            options,\n        );\n\n        this.title = this.lesson!.name;\n        this.eolData = data.data;\n        this.messages = this.messages.concat(data.messages);\n        this.processData = undefined;\n\n        CoreEvents.trigger(CoreEvents.ACTIVITY_DATA_SENT, { module: 'lesson' });\n\n        // Format activity link if present.\n        if (this.eolData.activitylink) {\n            this.activityLink = AddonModLessonHelper.formatActivityLink(<string> this.eolData.activitylink.value);\n        } else {\n            this.activityLink = undefined;\n        }\n\n        // Format review lesson if present.\n        if (this.eolData.reviewlesson) {\n            const params = CoreUrlUtils.extractUrlParams(<string> this.eolData.reviewlesson.value);\n\n            if (!params || !params.pageid) {\n                // No pageid in the URL, the user cannot review (probably didn't answer any question).\n                delete this.eolData.reviewlesson;\n            } else {\n                this.reviewPageId = Number(params.pageid);\n            }\n        }\n    }\n\n    /**\n     * Jump to a certain page after performing an action.\n     *\n     * @param pageId The page to load.\n     * @return Promise resolved when done.\n     */\n    protected async jumpToPage(pageId: number): Promise<void> {\n        if (pageId === 0) {\n            // Not a valid page, return to entry view.\n            // This happens, for example, when the user clicks to go to previous page and there is no previous page.\n            this.forceLeave = true;\n            CoreNavigator.back();\n\n            return;\n        } else if (pageId == AddonModLessonProvider.LESSON_EOL) {\n            // End of lesson reached.\n            return this.finishRetake();\n        }\n\n        // Load new page.\n        this.messages = [];\n\n        return this.loadPage(pageId);\n    }\n\n    /**\n     * Start or continue a retake.\n     *\n     * @param pageId The page to load.\n     * @return Promise resolved when done.\n     */\n    protected async launchRetake(pageId?: number): Promise<void> {\n        let data: AddonModLessonLaunchAttemptWSResponse | undefined;\n\n        if (this.review) {\n            // Review mode, no need to launch the retake.\n        } else if (!this.offline) {\n            // Not in offline mode, launch the retake.\n            data = await AddonModLesson.launchRetake(this.lesson!.id, this.password, pageId);\n        } else {\n            // Check if there is a finished offline retake.\n            const finished = await AddonModLessonOffline.hasFinishedRetake(this.lesson!.id);\n            if (finished) {\n                // Always show EOL page.\n                pageId = AddonModLessonProvider.LESSON_EOL;\n            }\n        }\n\n        this.currentPage = pageId || this.accessInfo!.firstpageid;\n        this.messages = data?.messages || [];\n\n        if (this.lesson!.timelimit && !this.accessInfo!.canmanage) {\n            // Get the last lesson timer.\n            const timers = await AddonModLesson.getTimers(this.lesson!.id, {\n                cmId: this.cmId,\n                readingStrategy: CoreSitesReadingStrategy.ONLY_NETWORK,\n            });\n\n            this.endTime = timers[timers.length - 1].starttime + this.lesson!.timelimit;\n        }\n\n        return this.loadPage(this.currentPage);\n    }\n\n    /**\n     * Load the lesson menu.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async loadMenu(): Promise<void> {\n        if (this.loadingMenu) {\n            // Already loading.\n            return;\n        }\n\n        try {\n            this.loadingMenu = true;\n            const options = {\n                password: this.password,\n                cmId: this.cmId,\n                readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            };\n\n            const pages = await this.callFunction<AddonModLessonGetPagesPageWSData[]>(\n                AddonModLesson.getPages.bind(AddonModLesson.instance, this.lesson!.id, options),\n                options,\n            );\n\n            this.lessonPages = pages.map((entry) => entry.page);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading menu.');\n        } finally {\n            this.loadingMenu = false;\n        }\n    }\n\n    /**\n     * Load a certain page.\n     *\n     * @param pageId The page to load.\n     * @return Promise resolved when done.\n     */\n    protected async loadPage(pageId: number): Promise<void> {\n        if (pageId == AddonModLessonProvider.LESSON_EOL) {\n            // End of lesson reached.\n            return this.finishRetake();\n        }\n\n        const options = {\n            password: this.password,\n            review: this.review,\n            includeContents: true,\n            cmId: this.cmId,\n            readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            accessInfo: this.accessInfo,\n            jumps: this.jumps,\n            includeOfflineData: true,\n        };\n\n        const data = await this.callFunction<AddonModLessonGetPageDataWSResponse>(\n            AddonModLesson.getPageData.bind(AddonModLesson.instance, this.lesson, pageId, options),\n            options,\n        );\n\n        if (data.newpageid == AddonModLessonProvider.LESSON_EOL) {\n            // End of lesson reached.\n            return this.finishRetake();\n        }\n\n        this.pageData = data;\n        this.title = data.page!.title;\n        this.pageContent = AddonModLessonHelper.getPageContentsFromPageData(data);\n        this.loaded = true;\n        this.currentPage = pageId;\n        this.messages = this.messages.concat(data.messages);\n\n        // Page loaded, hide EOL and feedback data if shown.\n        this.eolData = this.processData = undefined;\n\n        if (AddonModLesson.isQuestionPage(data.page!.type)) {\n            // Create an empty FormGroup without controls, they will be added in getQuestionFromPageData.\n            this.questionForm = this.formBuilder.group({});\n            this.pageButtons = [];\n            this.question = AddonModLessonHelper.getQuestionFromPageData(this.questionForm, data);\n            this.originalData = this.questionForm.getRawValue(); // Use getRawValue to include disabled values.\n        } else {\n            this.pageButtons = AddonModLessonHelper.getPageButtonsFromHtml(data.pagecontent || '');\n            this.question = undefined;\n            this.originalData = undefined;\n        }\n\n        // Don't display the navigation menu in review mode, using them displays errors.\n        if (data.displaymenu && !this.displayMenu && !this.review) {\n            // Load the menu.\n            this.loadMenu();\n        }\n        this.displayMenu = !this.review && !!data.displaymenu;\n\n        if (!this.firstPageLoaded) {\n            this.firstPageLoaded = true;\n        } else {\n            this.showRetake = false;\n        }\n    }\n\n    /**\n     * Process a page, sending some data.\n     *\n     * @param data The data to send.\n     * @param formSubmitted Whether a form was submitted.\n     * @return Promise resolved when done.\n     */\n    protected async processPage(data: CoreFormFields, formSubmitted?: boolean): Promise<void> {\n        this.loaded = false;\n\n        const options: AddonModLessonProcessPageOptions = {\n            password: this.password,\n            review: this.review,\n            offline: this.offline,\n            accessInfo: this.accessInfo,\n            jumps: this.jumps,\n        };\n\n        try {\n            const result = await this.callFunction<AddonModLessonProcessPageResponse>(\n                AddonModLesson.processPage.bind(\n                    AddonModLesson.instance,\n                    this.lesson,\n                    this.courseId,\n                    this.pageData,\n                    data,\n                    options,\n                ),\n                options,\n            );\n\n            if (formSubmitted) {\n                CoreForms.triggerFormSubmittedEvent(\n                    this.formElement,\n                    result.sent,\n                    CoreSites.getCurrentSiteId(),\n                );\n            }\n\n            if (!this.offline && !this.review && AddonModLesson.isLessonOffline(this.lesson!)) {\n                // Lesson allows offline and the user changed some data in server. Update cached data.\n                const retake = this.accessInfo!.attemptscount;\n                const options = {\n                    cmId: this.cmId,\n                    readingStrategy: CoreSitesReadingStrategy.ONLY_NETWORK,\n                };\n\n                // Update in background the list of content pages viewed or question attempts.\n                if (AddonModLesson.isQuestionPage(this.pageData?.page?.type || -1)) {\n                    AddonModLesson.getQuestionsAttemptsOnline(this.lesson!.id, retake, options);\n                } else {\n                    AddonModLesson.getContentPagesViewedOnline(this.lesson!.id, retake, options);\n                }\n            }\n\n            if (result.nodefaultresponse || result.inmediatejump) {\n                // Don't display feedback or force a redirect to a new page. Load the new page.\n                return await this.jumpToPage(result.newpageid);\n            }\n\n            // Not inmediate jump, show the feedback.\n            result.feedback = AddonModLessonHelper.removeQuestionFromFeedback(result.feedback);\n            this.messages = result.messages;\n            this.processData = result;\n            this.processDataButtons = [];\n\n            if (this.lesson!.review && !result.correctanswer && !result.noanswer && !result.isessayquestion &&\n                    !result.maxattemptsreached && !result.reviewmode) {\n                // User can try again, show button to do so.\n                this.processDataButtons.push({\n                    label: 'addon.mod_lesson.reviewquestionback',\n                    pageId: this.currentPage!,\n                });\n            }\n\n            // Button to continue.\n            if (this.lesson!.review && !result.correctanswer && !result.noanswer && !result.isessayquestion &&\n                    !result.maxattemptsreached) {\n                /* If both the \"Yes, I'd like to try again\" and \"No, I just want to go on to the next question\" point to the\n                    same page then don't show the \"No, I just want to go on to the next question\" button. It's confusing. */\n                if (this.pageData!.page!.id != result.newpageid) {\n                    // Button to continue the lesson (the page to go is configured by the teacher).\n                    this.processDataButtons.push({\n                        label: 'addon.mod_lesson.reviewquestioncontinue',\n                        pageId: result.newpageid,\n                    });\n                }\n            } else {\n                this.processDataButtons.push({\n                    label: 'addon.mod_lesson.continue',\n                    pageId: result.newpageid,\n                });\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error processing page');\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Review the lesson.\n     *\n     * @param pageId Page to load.\n     */\n    async reviewLesson(pageId: number): Promise<void> {\n        this.loaded = false;\n        this.review = true;\n        this.offline = false; // Don't allow offline mode in review.\n\n        try {\n            await this.loadPage(pageId);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading page');\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Submit a question.\n     *\n     * @param e Event.\n     */\n    submitQuestion(e: Event): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.loaded = false;\n\n        // Use getRawValue to include disabled values.\n        const data = AddonModLessonHelper.prepareQuestionData(this.question!, this.questionForm!.getRawValue());\n\n        this.processPage(data, true).finally(() => {\n            this.loaded = true;\n        });\n    }\n\n    /**\n     * Time up.\n     */\n    async timeUp(): Promise<void> {\n        // Time up called, hide the timer.\n        this.endTime = undefined;\n        this.loaded = false;\n\n        try {\n            await this.finishRetake(true);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error finishing attempt');\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Show the navigation modal.\n     *\n     * @return Promise resolved when done.\n     */\n    async showMenu(): Promise<void> {\n        this.menuShown = true;\n\n        await CoreDomUtils.openSideModal({\n            component: AddonModLessonMenuModalPage,\n            componentProps: {\n                pageInstance: this,\n            },\n        });\n\n        this.menuShown = false;\n    }\n\n}\n\n/**\n * Common options for functions called using callFunction.\n */\ntype CommonOptions = CoreSitesCommonWSOptions & {\n    jumps?: AddonModLessonPossibleJumps;\n    offline?: boolean;\n};\n\n/**\n * Button displayed after processing a page.\n */\ntype ProcessDataButton = {\n    label: string;\n    pageId: number;\n};\n","export default \":host {\\n  --background-odd: var(--light);\\n}\\n\\n:host-context(body.dark) {\\n  --background-odd: var(--medium);\\n}\\n\\n:host ::ng-deep .addon-mod_lesson-slideshow {\\n  max-width: 100%;\\n  max-height: 100%;\\n  margin: 0 auto;\\n}\\n\\n:host ::ng-deep .studentanswer {\\n  -webkit-padding-start: 8px;\\n          padding-inline-start: 8px;\\n}\\n\\n:host ::ng-deep table {\\n  width: 100%;\\n  margin-top: 1.5rem;\\n}\\n\\n:host ::ng-deep table tr:nth-child(odd) {\\n  background-color: var(--background-odd);\\n}\\n\\n:host ::ng-deep table tr:last-child td {\\n  border-bottom: 0;\\n}\\n\\n:host ::ng-deep table td {\\n  padding: 5px;\\n  line-height: 1.5;\\n  border-bottom: 1px solid var(--stroke);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvbW9kL2xlc3Nvbi9wYWdlcy9wbGF5ZXIvcGxheWVyLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRyw4QkFBQTtBQUNIOztBQUVBO0VBQ0csK0JBQUE7QUFDSDs7QUFHSTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFBUjs7QUFHSTtFQUNJLDBCQUFBO1VBQUEseUJBQUE7QUFEUjs7QUFJSTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtBQUZSOztBQUlRO0VBQ0ksdUNBQUE7QUFGWjs7QUFLUTtFQUNJLGdCQUFBO0FBSFo7O0FBTVE7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQ0FBQTtBQUpaIiwiZmlsZSI6InNyYy9hZGRvbnMvbW9kL2xlc3Nvbi9wYWdlcy9wbGF5ZXIvcGxheWVyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgIC0tYmFja2dyb3VuZC1vZGQ6IHZhcigtLWxpZ2h0KTtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dChib2R5LmRhcmspIHtcclxuICAgLS1iYWNrZ3JvdW5kLW9kZDogdmFyKC0tbWVkaXVtKTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIHtcclxuICAgIC5hZGRvbi1tb2RfbGVzc29uLXNsaWRlc2hvdyB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLnN0dWRlbnRhbnN3ZXIge1xyXG4gICAgICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiA4cHg7XHJcbiAgICB9XHJcblxyXG4gICAgdGFibGUge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEuNXJlbTtcclxuXHJcbiAgICAgICAgdHI6bnRoLWNoaWxkKG9kZCkge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW9kZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cjpsYXN0LWNoaWxkIHRkIHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRkIHtcclxuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tc3Ryb2tlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19 */\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { CoreQuestionHelper } from '@features/question/services/question-helper';\r\nimport { CoreQuestionsAnswers } from '@features/question/services/question';\r\nimport { CoreLogger } from '@singletons/logger';\r\nimport { AddonModQuizConnectionErrorComponent } from '../components/connection-error/connection-error';\r\nimport { AddonModQuiz, AddonModQuizAttemptWSData, AddonModQuizQuizWSData } from '../services/quiz';\r\nimport { CoreDomUtils } from '@services/utils/dom';\r\n\r\n/**\r\n * Class to support auto-save in quiz. Every certain seconds, it will check if there are changes in the current page answers\r\n * and, if so, it will save them automatically.\r\n */\r\nexport class AddonModQuizAutoSave {\r\n\r\n    protected readonly CHECK_CHANGES_INTERVAL = 5000;\r\n\r\n    protected logger: CoreLogger;\r\n    protected checkChangesInterval?: number; // Interval to check if there are changes in the answers.\r\n    protected loadPreviousAnswersTimeout?: number; // Timeout to load previous answers.\r\n    protected autoSaveTimeout?: number; // Timeout to auto-save the answers.\r\n    protected popover?: HTMLIonPopoverElement; // Popover to display there's been an error.\r\n    protected popoverShown = false; // Whether the popover is shown.\r\n    protected previousAnswers?: CoreQuestionsAnswers; // The previous answers, to check if answers have changed.\r\n    protected errorObservable: BehaviorSubject<boolean>; // An observable to notify if there's been an error.\r\n\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param formName Name of the form where the answers are stored.\r\n     * @param buttonSelector Selector to find the button to show the connection error.\r\n     */\r\n    constructor(\r\n        protected formName: string,\r\n        protected buttonSelector: string,\r\n    ) {\r\n        this.logger = CoreLogger.getInstance('AddonModQuizAutoSave');\r\n\r\n        // Create the observable to notify if an error happened.\r\n        this.errorObservable = new BehaviorSubject<boolean>(false);\r\n    }\r\n\r\n    /**\r\n     * Cancel a pending auto save.\r\n     */\r\n    cancelAutoSave(): void {\r\n        clearTimeout(this.autoSaveTimeout);\r\n        this.autoSaveTimeout = undefined;\r\n    }\r\n\r\n    /**\r\n     * Check if the answers have changed in a page.\r\n     *\r\n     * @param quiz Quiz.\r\n     * @param attempt Attempt.\r\n     * @param preflightData Preflight data.\r\n     * @param offline Whether the quiz is being attempted in offline mode.\r\n     */\r\n    checkChanges(\r\n        quiz: AddonModQuizQuizWSData,\r\n        attempt: AddonModQuizAttemptWSData,\r\n        preflightData: Record<string, string>,\r\n        offline?: boolean,\r\n    ): void {\r\n        if (this.autoSaveTimeout) {\r\n            // We already have an auto save pending, no need to check changes.\r\n            return;\r\n        }\r\n\r\n        const answers = this.getAnswers();\r\n\r\n        if (!this.previousAnswers) {\r\n            // Previous answers isn't set, set it now.\r\n            this.previousAnswers = answers;\r\n\r\n            return;\r\n        }\r\n\r\n        // Check if answers have changed.\r\n        let equal = true;\r\n\r\n        for (const name in answers) {\r\n            if (this.previousAnswers[name] != answers[name]) {\r\n                equal = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!equal) {\r\n            this.setAutoSaveTimer(quiz, attempt, preflightData, offline);\r\n        }\r\n\r\n        this.previousAnswers = answers;\r\n    }\r\n\r\n    /**\r\n     * Get answers from a form.\r\n     *\r\n     * @return Answers.\r\n     */\r\n    protected getAnswers(): CoreQuestionsAnswers {\r\n        return CoreQuestionHelper.getAnswersFromForm(document.forms[this.formName]);\r\n    }\r\n\r\n    /**\r\n     * Hide the auto save error.\r\n     */\r\n    hideAutoSaveError(): void {\r\n        this.errorObservable.next(false);\r\n        this.popover?.dismiss();\r\n    }\r\n\r\n    /**\r\n     * Returns an observable that will notify when an error happens or stops.\r\n     * It will send true when there's an error, and false when the error has been ammended.\r\n     *\r\n     * @return Observable.\r\n     */\r\n    onError(): BehaviorSubject<boolean> {\r\n        return this.errorObservable;\r\n    }\r\n\r\n    /**\r\n     * Schedule an auto save process if it's not scheduled already.\r\n     *\r\n     * @param quiz Quiz.\r\n     * @param attempt Attempt.\r\n     * @param preflightData Preflight data.\r\n     * @param offline Whether the quiz is being attempted in offline mode.\r\n     */\r\n    setAutoSaveTimer(\r\n        quiz: AddonModQuizQuizWSData,\r\n        attempt: AddonModQuizAttemptWSData,\r\n        preflightData: Record<string, string>,\r\n        offline?: boolean,\r\n    ): void {\r\n        // Don't schedule if already shceduled or quiz is almost closed.\r\n        if (!quiz.autosaveperiod || this.autoSaveTimeout || AddonModQuiz.isAttemptTimeNearlyOver(quiz, attempt)) {\r\n            return;\r\n        }\r\n\r\n        // Schedule save.\r\n        this.autoSaveTimeout = window.setTimeout(async () => {\r\n            const answers = this.getAnswers();\r\n            this.cancelAutoSave();\r\n            this.previousAnswers = answers; // Update previous answers to match what we're sending to the server.\r\n\r\n            try {\r\n                await AddonModQuiz.saveAttempt(quiz, attempt, answers, preflightData, offline);\r\n\r\n                // Save successful, we can hide the connection error if it was shown.\r\n                this.hideAutoSaveError();\r\n            } catch (error) {\r\n                // Error auto-saving. Show error and set timer again.\r\n                this.logger.warn('Error auto-saving data.', error);\r\n\r\n                // If there was no error already, show the error message.\r\n                if (!this.errorObservable.getValue()) {\r\n                    this.errorObservable.next(true);\r\n                    this.showAutoSaveError();\r\n                }\r\n\r\n                // Try again.\r\n                this.setAutoSaveTimer(quiz, attempt, preflightData, offline);\r\n            }\r\n        }, quiz.autosaveperiod * 1000);\r\n    }\r\n\r\n    /**\r\n     * Show an error popover due to an auto save error.\r\n     */\r\n    async showAutoSaveError(ev?: Event): Promise<void> {\r\n        // Don't show popover if it was already shown.\r\n        if (this.popoverShown) {\r\n            return;\r\n        }\r\n\r\n        const event: unknown = ev || {\r\n            // Cannot use new Event() because event's target property is readonly\r\n            target: document.querySelector(this.buttonSelector),\r\n            stopPropagation: () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\r\n            preventDefault: () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\r\n        };\r\n        this.popoverShown = true;\r\n\r\n        this.popover = await CoreDomUtils.openPopover({\r\n            component: AddonModQuizConnectionErrorComponent,\r\n            event: <Event> event,\r\n        });\r\n\r\n        this.popoverShown = false;\r\n    }\r\n\r\n    /**\r\n     * Start a process to periodically check changes in answers.\r\n     *\r\n     * @param quiz Quiz.\r\n     * @param attempt Attempt.\r\n     * @param preflightData Preflight data.\r\n     * @param offline Whether the quiz is being attempted in offline mode.\r\n     */\r\n    startCheckChangesProcess(\r\n        quiz: AddonModQuizQuizWSData,\r\n        attempt: AddonModQuizAttemptWSData,\r\n        preflightData: Record<string, string>,\r\n        offline?: boolean,\r\n    ): void {\r\n        if (this.checkChangesInterval || !quiz.autosaveperiod) {\r\n            // We already have the interval in place or the quiz has autosave disabled.\r\n            return;\r\n        }\r\n\r\n        this.previousAnswers = undefined;\r\n\r\n        // Load initial answers in 2.5 seconds so the first check interval finds them already loaded.\r\n        this.loadPreviousAnswersTimeout = window.setTimeout(() => {\r\n            this.checkChanges(quiz, attempt, preflightData, offline);\r\n        }, 2500);\r\n\r\n        // Check changes every certain time.\r\n        this.checkChangesInterval = window.setInterval(() => {\r\n            this.checkChanges(quiz, attempt, preflightData, offline);\r\n        }, this.CHECK_CHANGES_INTERVAL);\r\n    }\r\n\r\n    /**\r\n     * Stops the periodical check for changes.\r\n     */\r\n    stopCheckChangesProcess(): void {\r\n        clearTimeout(this.loadPreviousAnswersTimeout);\r\n        clearInterval(this.checkChangesInterval);\r\n\r\n        this.loadPreviousAnswersTimeout = undefined;\r\n        this.checkChangesInterval = undefined;\r\n    }\r\n\r\n}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreQuestionComponentsModule } from '@features/question/components/components.module';\r\nimport { CanLeaveGuard } from '@guards/can-leave';\r\nimport { AddonModQuizPlayerPage } from './player.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonModQuizPlayerPage,\r\n        canDeactivate: [CanLeaveGuard],\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n        CoreQuestionComponentsModule,\r\n    ],\r\n    declarations: [\r\n        AddonModQuizPlayerPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class AddonModQuizPlayerPageModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ChangeDetectorRef, ViewChildren, QueryList, ElementRef } from '@angular/core';\nimport { IonContent } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { CoreIonLoadingElement } from '@classes/ion-loading';\nimport { CoreQuestionComponent } from '@features/question/components/question/question';\nimport { CoreQuestionQuestionParsed, CoreQuestionsAnswers } from '@features/question/services/question';\nimport { CoreQuestionBehaviourButton, CoreQuestionHelper } from '@features/question/services/question-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites, CoreSitesReadingStrategy } from '@services/sites';\nimport { CoreSync } from '@services/sync';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { ModalController, Translate } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModQuizAutoSave } from '../../classes/auto-save';\nimport {\n    AddonModQuizNavigationModalComponent,\n    AddonModQuizNavigationModalReturn,\n    AddonModQuizNavigationQuestion,\n} from '../../components/navigation-modal/navigation-modal';\nimport {\n    AddonModQuiz,\n    AddonModQuizAttemptWSData,\n    AddonModQuizGetAttemptAccessInformationWSResponse,\n    AddonModQuizGetQuizAccessInformationWSResponse,\n    AddonModQuizProvider,\n    AddonModQuizQuizWSData,\n} from '../../services/quiz';\nimport { AddonModQuizAttempt, AddonModQuizHelper } from '../../services/quiz-helper';\nimport { AddonModQuizSync } from '../../services/quiz-sync';\nimport { CanLeave } from '@guards/can-leave';\nimport { CoreForms } from '@singletons/form';\nimport { CoreDom } from '@singletons/dom';\nimport { CoreTime } from '@singletons/time';\n\n/**\n * Page that allows attempting a quiz.\n */\n@Component({\n    selector: 'page-addon-mod-quiz-player',\n    templateUrl: 'player.html',\n    styleUrls: ['player.scss'],\n})\nexport class AddonModQuizPlayerPage implements OnInit, OnDestroy, CanLeave {\n\n    @ViewChild(IonContent) content?: IonContent;\n    @ViewChildren(CoreQuestionComponent) questionComponents?: QueryList<CoreQuestionComponent>;\n    @ViewChild('quizForm') formElement?: ElementRef;\n\n    quiz?: AddonModQuizQuizWSData; // The quiz the attempt belongs to.\n    attempt?: AddonModQuizAttempt; // The attempt being attempted.\n    moduleUrl?: string; // URL to the module in the site.\n    component = AddonModQuizProvider.COMPONENT; // Component to link the files to.\n    loaded = false; // Whether data has been loaded.\n    quizAborted = false; // Whether the quiz was aborted due to an error.\n    offline = false; // Whether the quiz is being attempted in offline mode.\n    navigation: AddonModQuizNavigationQuestion[] = []; // List of questions to navigate them.\n    questions: QuizQuestion[] = []; // Questions of the current page.\n    nextPage = -2; // Next page.\n    previousPage = -1; // Previous page.\n    showSummary = false; // Whether the attempt summary should be displayed.\n    summaryQuestions: CoreQuestionQuestionParsed[] = []; // The questions to display in the summary.\n    canReturn = false; // Whether the user can return to a page after seeing the summary.\n    preventSubmitMessages: string[] = []; // List of messages explaining why the quiz cannot be submitted.\n    endTime?: number; // The time when the attempt must be finished.\n    autoSaveError = false; // Whether there's been an error in auto-save.\n    isSequential = false; // Whether quiz navigation is sequential.\n    readableTimeLimit?: string; // Time limit in a readable format.\n    dueDateWarning?: string; // Warning about due date.\n    courseId!: number; // The course ID the quiz belongs to.\n    cmId!: number; // Course module ID.\n\n    protected preflightData: Record<string, string> = {}; // Preflight data to attempt the quiz.\n    protected quizAccessInfo?: AddonModQuizGetQuizAccessInformationWSResponse; // Quiz access information.\n    protected attemptAccessInfo?: AddonModQuizGetAttemptAccessInformationWSResponse; // Attempt access info.\n    protected lastAttempt?: AddonModQuizAttemptWSData; // Last user attempt before a new one is created (if needed).\n    protected newAttempt = false; // Whether the user is starting a new attempt.\n    protected quizDataLoaded = false; // Whether the quiz data has been loaded.\n    protected timeUpCalled = false; // Whether the time up function has been called.\n    protected autoSave!: AddonModQuizAutoSave; // Class to auto-save answers every certain time.\n    protected autoSaveErrorSubscription?: Subscription; // To be notified when an error happens in auto-save.\n    protected forceLeave = false; // If true, don't perform any check when leaving the view.\n    protected reloadNavigation = false; // Whether navigation needs to be reloaded because some data was sent to server.\n\n    constructor(\n        protected changeDetector: ChangeDetectorRef,\n        protected elementRef: ElementRef,\n    ) {\n    }\n\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {\n        try {\n            this.cmId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            this.moduleUrl = CoreNavigator.getRouteParam('moduleUrl');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        // Create the auto save instance.\n        this.autoSave = new AddonModQuizAutoSave(\n            'addon-mod_quiz-player-form',\n            '#addon-mod_quiz-connection-error-button',\n        );\n\n        // Start the player when the page is loaded.\n        this.start();\n\n        // Listen for errors on auto-save.\n        this.autoSaveErrorSubscription = this.autoSave.onError().subscribe((error) => {\n            this.autoSaveError = error;\n            this.changeDetector.detectChanges();\n        });\n    }\n\n    /**\n     * Component being destroyed.\n     */\n    ngOnDestroy(): void {\n        // Stop auto save.\n        this.autoSave.cancelAutoSave();\n        this.autoSave.stopCheckChangesProcess();\n        this.autoSaveErrorSubscription?.unsubscribe();\n\n        if (this.quiz) {\n            // Unblock the quiz so it can be synced.\n            CoreSync.unblockOperation(AddonModQuizProvider.COMPONENT, this.quiz.id);\n        }\n    }\n\n    /**\n     * Check if we can leave the page or not.\n     *\n     * @return Resolved if we can leave it, rejected if not.\n     */\n    async canLeave(): Promise<boolean> {\n        if (this.forceLeave || this.quizAborted || !this.questions.length || this.showSummary) {\n            return true;\n        }\n\n        // Save answers.\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            await this.processAttempt(false, false);\n        } catch (error) {\n            // Save attempt failed. Show confirmation.\n            modal.dismiss();\n\n            await CoreDomUtils.showConfirm(Translate.instant('addon.mod_quiz.confirmleavequizonerror'));\n\n            CoreForms.triggerFormCancelledEvent(this.formElement, CoreSites.getCurrentSiteId());\n        } finally {\n            modal.dismiss();\n        }\n\n        return true;\n    }\n\n    /**\n     * Runs when the page is about to leave and no longer be the active page.\n     */\n    async ionViewWillLeave(): Promise<void> {\n        // Close any modal if present.\n        const modal = await ModalController.getTop();\n\n        modal?.dismiss();\n    }\n\n    /**\n     * Abort the quiz.\n     */\n    abortQuiz(): void {\n        this.quizAborted = true;\n    }\n\n    /**\n     * A behaviour button in a question was clicked (Check, Redo, ...).\n     *\n     * @param button Clicked button.\n     */\n    async behaviourButtonClicked(button: CoreQuestionBehaviourButton): Promise<void> {\n        let modal: CoreIonLoadingElement | undefined;\n\n        try {\n            // Confirm that the user really wants to do it.\n            await CoreDomUtils.showConfirm(Translate.instant('core.areyousure'));\n\n            modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n            // Get the answers.\n            const answers = await this.prepareAnswers();\n\n            // Add the clicked button data.\n            answers[button.name] = button.value;\n\n            // Behaviour checks are always in online.\n            await AddonModQuiz.processAttempt(this.quiz!, this.attempt!, answers, this.preflightData);\n\n            this.reloadNavigation = true; // Data sent to server, navigation should be reloaded.\n\n            // Reload the current page.\n            const scrollElement = await this.content?.getScrollElement();\n            const scrollTop = scrollElement?.scrollTop || -1;\n\n            this.loaded = false;\n            this.content?.scrollToTop(); // Scroll top so the spinner is seen.\n\n            try {\n                await this.loadPage(this.attempt!.currentpage!);\n            } finally {\n                this.loaded = true;\n                if (scrollTop != -1) {\n                    // Wait for content to be rendered.\n                    setTimeout(() => {\n                        this.content?.scrollToPoint(0, scrollTop);\n                    }, 50);\n                }\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error performing action.');\n        } finally {\n            modal?.dismiss();\n        }\n    }\n\n    /**\n     * Change the current page. If slot is supplied, try to scroll to that question.\n     *\n     * @param page Page to load. -1 means summary.\n     * @param fromModal Whether the page was selected using the navigation modal.\n     * @param slot Slot of the question to scroll to.\n     * @return Promise resolved when done.\n     */\n    async changePage(page: number, fromModal?: boolean, slot?: number): Promise<void> {\n        if (!this.attempt) {\n            return;\n        }\n\n        if (page != -1 && (this.attempt.state == AddonModQuizProvider.ATTEMPT_OVERDUE || this.attempt.finishedOffline)) {\n            // We can't load a page if overdue or the local attempt is finished.\n            return;\n        } else if (page == this.attempt.currentpage && !this.showSummary && slot !== undefined) {\n            // Navigating to a question in the current page.\n            this.scrollToQuestion(slot);\n\n            return;\n        } else if ((page == this.attempt.currentpage && !this.showSummary) || (fromModal && this.isSequential && page != -1)) {\n            // If the user is navigating to the current page we do nothing.\n            // Also, in sequential quizzes we don't allow navigating using the modal except for finishing the quiz (summary).\n            return;\n        } else if (page === -1 && this.showSummary) {\n            // Summary already shown.\n            return;\n        }\n\n        this.content?.scrollToTop();\n\n        // First try to save the attempt data. We only save it if we're not seeing the summary.\n        if (!this.showSummary) {\n            const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n            try {\n                await this.processAttempt(false, false);\n\n                modal.dismiss();\n            } catch (error) {\n                CoreDomUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorsaveattempt', true);\n                modal.dismiss();\n\n                return;\n            }\n\n            this.reloadNavigation = true; // Data sent to server, navigation should be reloaded.\n        }\n\n        this.loaded = false;\n\n        try {\n            // Attempt data successfully saved, load the page or summary.\n            // Stop checking for changes during page change.\n            this.autoSave.stopCheckChangesProcess();\n\n            if (page === -1) {\n                await this.loadSummary();\n            } else {\n                await this.loadPage(page);\n            }\n        } catch (error) {\n            // If the user isn't seeing the summary, start the check again.\n            if (!this.showSummary) {\n                this.autoSave.startCheckChangesProcess(this.quiz!, this.attempt, this.preflightData, this.offline);\n            }\n\n            CoreDomUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorgetquestions', true);\n        } finally {\n            this.loaded = true;\n\n            if (slot !== undefined) {\n                // Scroll to the question.\n                this.scrollToQuestion(slot);\n            }\n        }\n    }\n\n    /**\n     * Convenience function to get the quiz data.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fetchData(): Promise<void> {\n        try {\n            this.quiz = await AddonModQuiz.getQuiz(this.courseId, this.cmId);\n\n            // Block the quiz so it cannot be synced.\n            CoreSync.blockOperation(AddonModQuizProvider.COMPONENT, this.quiz.id);\n\n            // Wait for any ongoing sync to finish. We won't sync a quiz while it's being played.\n            await AddonModQuizSync.waitForSync(this.quiz.id);\n\n            this.isSequential = AddonModQuiz.isNavigationSequential(this.quiz);\n\n            if (AddonModQuiz.isQuizOffline(this.quiz)) {\n                // Quiz supports offline.\n                this.offline = true;\n            } else {\n                // Quiz doesn't support offline right now, but maybe it did and then the setting was changed.\n                // If we have an unfinished offline attempt then we'll use offline mode.\n                this.offline = await AddonModQuiz.isLastAttemptOfflineUnfinished(this.quiz);\n            }\n\n            if (this.quiz!.timelimit && this.quiz!.timelimit > 0) {\n                this.readableTimeLimit = CoreTime.formatTime(this.quiz.timelimit);\n            }\n\n            // Get access information for the quiz.\n            this.quizAccessInfo = await AddonModQuiz.getQuizAccessInformation(this.quiz.id, {\n                cmId: this.quiz.coursemodule,\n                readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            });\n\n            // Get user attempts to determine last attempt.\n            const attempts = await AddonModQuiz.getUserAttempts(this.quiz.id, {\n                cmId: this.quiz.coursemodule,\n                readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            });\n\n            if (!attempts.length) {\n                // There are no attempts, start a new one.\n                this.newAttempt = true;\n\n                return;\n            }\n\n            // Get the last attempt. If it's finished, start a new one.\n            this.lastAttempt = await AddonModQuizHelper.setAttemptCalculatedData(\n                this.quiz,\n                attempts[attempts.length - 1],\n                false,\n                undefined,\n                true,\n            );\n\n            this.newAttempt = AddonModQuiz.isAttemptFinished(this.lastAttempt.state);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorgetquiz', true);\n        }\n    }\n\n    /**\n     * Finish an attempt, either by timeup or because the user clicked to finish it.\n     *\n     * @param userFinish Whether the user clicked to finish the attempt.\n     * @param timeUp Whether the quiz time is up.\n     * @return Promise resolved when done.\n     */\n    async finishAttempt(userFinish?: boolean, timeUp?: boolean): Promise<void> {\n        let modal: CoreIonLoadingElement | undefined;\n\n        try {\n            // Show confirm if the user clicked the finish button and the quiz is in progress.\n            if (!timeUp && this.attempt!.state == AddonModQuizProvider.ATTEMPT_IN_PROGRESS) {\n                await CoreDomUtils.showConfirm(Translate.instant('addon.mod_quiz.confirmclose'));\n            }\n\n            modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n            await this.processAttempt(userFinish, timeUp);\n\n            // Trigger an event to notify the attempt was finished.\n            CoreEvents.trigger(AddonModQuizProvider.ATTEMPT_FINISHED_EVENT, {\n                quizId: this.quiz!.id,\n                attemptId: this.attempt!.id,\n                synced: !this.offline,\n            }, CoreSites.getCurrentSiteId());\n\n            CoreEvents.trigger(CoreEvents.ACTIVITY_DATA_SENT, { module: 'quiz' });\n\n            // Leave the player.\n            this.forceLeave = true;\n            CoreNavigator.back();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorsaveattempt', true);\n        } finally {\n            modal?.dismiss();\n        }\n    }\n\n    /**\n     * Fix sequence checks of current page.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fixSequenceChecks(): Promise<void> {\n        // Get current page data again to get the latest sequencechecks.\n        const data = await AddonModQuiz.getAttemptData(this.attempt!.id, this.attempt!.currentpage!, this.preflightData, {\n            cmId: this.quiz!.coursemodule,\n            readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n        });\n\n        const newSequenceChecks: Record<number, { name: string; value: string }> = {};\n\n        data.questions.forEach((question) => {\n            const sequenceCheck = CoreQuestionHelper.getQuestionSequenceCheckFromHtml(question.html);\n            if (sequenceCheck) {\n                newSequenceChecks[question.slot] = sequenceCheck;\n            }\n        });\n\n        // Notify the new sequence checks to the components.\n        this.questionComponents?.forEach((component) => {\n            component.updateSequenceCheck(newSequenceChecks);\n        });\n    }\n\n    /**\n     * Get the input answers.\n     *\n     * @return Object with the answers.\n     */\n    protected getAnswers(): CoreQuestionsAnswers {\n        return CoreQuestionHelper.getAnswersFromForm(document.forms['addon-mod_quiz-player-form']);\n    }\n\n    /**\n     * Initializes the timer if enabled.\n     */\n    protected initTimer(): void {\n        if (!this.attemptAccessInfo?.endtime || this.attemptAccessInfo.endtime < 0) {\n            return;\n        }\n\n        // Quiz has an end time. Check if time left should be shown.\n        const shouldShowTime = AddonModQuiz.shouldShowTimeLeft(\n            this.quizAccessInfo!.activerulenames,\n            this.attempt!,\n            this.attemptAccessInfo.endtime,\n        );\n\n        if (shouldShowTime) {\n            this.endTime = this.attemptAccessInfo.endtime;\n        } else {\n            delete this.endTime;\n        }\n    }\n\n    /**\n     * Load a page questions.\n     *\n     * @param page The page to load.\n     * @return Promise resolved when done.\n     */\n    protected async loadPage(page: number): Promise<void> {\n        const data = await AddonModQuiz.getAttemptData(this.attempt!.id, page, this.preflightData, {\n            cmId: this.quiz!.coursemodule,\n            readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n        });\n\n        // Update attempt, status could change during the execution.\n        this.attempt = data.attempt;\n        this.attempt.currentpage = page;\n\n        this.questions = data.questions;\n        this.nextPage = data.nextpage;\n        this.previousPage = this.isSequential ? -1 : page - 1;\n        this.showSummary = false;\n\n        this.questions.forEach((question) => {\n            // Get the readable mark for each question.\n            question.readableMark = AddonModQuizHelper.getQuestionMarkFromHtml(question.html);\n\n            // Extract the question info box.\n            CoreQuestionHelper.extractQuestionInfoBox(question, '.info');\n\n            // Check if the question is blocked. If it is, treat it as a description question.\n            if (AddonModQuiz.isQuestionBlocked(question)) {\n                question.type = 'description';\n            }\n        });\n\n        // Mark the page as viewed.\n        CoreUtils.ignoreErrors(\n            AddonModQuiz.logViewAttempt(this.attempt.id, page, this.preflightData, this.offline, this.quiz),\n        );\n\n        // Start looking for changes.\n        this.autoSave.startCheckChangesProcess(this.quiz!, this.attempt, this.preflightData, this.offline);\n    }\n\n    /**\n     * Load attempt summary.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async loadSummary(): Promise<void> {\n        this.summaryQuestions = [];\n\n        this.summaryQuestions = await AddonModQuiz.getAttemptSummary(this.attempt!.id, this.preflightData, {\n            cmId: this.quiz!.coursemodule,\n            loadLocal: this.offline,\n            readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n        });\n\n        this.showSummary = true;\n        this.canReturn = this.attempt!.state == AddonModQuizProvider.ATTEMPT_IN_PROGRESS && !this.attempt!.finishedOffline;\n        this.preventSubmitMessages = AddonModQuiz.getPreventSubmitMessages(this.summaryQuestions);\n\n        this.dueDateWarning = AddonModQuiz.getAttemptDueDateWarning(this.quiz!, this.attempt!);\n\n        // Log summary as viewed.\n        CoreUtils.ignoreErrors(\n            AddonModQuiz.logViewAttemptSummary(this.attempt!.id, this.preflightData, this.quiz!.id, this.quiz!.name),\n        );\n    }\n\n    /**\n     * Load data to navigate the questions using the navigation modal.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async loadNavigation(): Promise<void> {\n        // We use the attempt summary to build the navigation because it contains all the questions.\n        this.navigation = await AddonModQuiz.getAttemptSummary(this.attempt!.id, this.preflightData, {\n            cmId: this.quiz!.coursemodule,\n            loadLocal: this.offline,\n            readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n        });\n\n        this.navigation.forEach((question) => {\n            question.stateClass = CoreQuestionHelper.getQuestionStateClass(question.state || '');\n        });\n    }\n\n    /**\n     * Open the navigation modal.\n     *\n     * @return Promise resolved when done.\n     */\n    async openNavigation(): Promise<void> {\n\n        if (this.reloadNavigation) {\n            // Some data has changed, reload the navigation.\n            const modal = await CoreDomUtils.showModalLoading();\n\n            await CoreUtils.ignoreErrors(this.loadNavigation());\n\n            modal.dismiss();\n            this.reloadNavigation = false;\n        }\n\n        // Create the navigation modal.\n        const modalData = await CoreDomUtils.openSideModal<AddonModQuizNavigationModalReturn>({\n            component: AddonModQuizNavigationModalComponent,\n            componentProps: {\n                navigation: this.navigation,\n                summaryShown: this.showSummary,\n                currentPage: this.attempt?.currentpage,\n                isReview: false,\n            },\n        });\n\n        if (!modalData) {\n            return;\n        }\n\n        this.changePage(modalData.page!, true, modalData.slot);\n    }\n\n    /**\n     * Prepare the answers to be sent for the attempt.\n     *\n     * @return Promise resolved with the answers.\n     */\n    protected prepareAnswers(): Promise<CoreQuestionsAnswers> {\n        return CoreQuestionHelper.prepareAnswers(\n            this.questions,\n            this.getAnswers(),\n            this.offline,\n            this.component,\n            this.quiz!.coursemodule,\n        );\n    }\n\n    /**\n     * Process attempt.\n     *\n     * @param userFinish Whether the user clicked to finish the attempt.\n     * @param timeUp Whether the quiz time is up.\n     * @param retrying Whether we're retrying the change.\n     * @return Promise resolved when done.\n     */\n    protected async processAttempt(userFinish?: boolean, timeUp?: boolean, retrying?: boolean): Promise<void> {\n        // Get the answers to send.\n        let answers: CoreQuestionsAnswers = {};\n\n        if (!this.showSummary) {\n            answers = await this.prepareAnswers();\n        }\n\n        try {\n            // Send the answers.\n            await AddonModQuiz.processAttempt(\n                this.quiz!,\n                this.attempt!,\n                answers,\n                this.preflightData,\n                userFinish,\n                timeUp,\n                this.offline,\n            );\n        } catch (error) {\n            if (!error || error.errorcode != 'submissionoutofsequencefriendlymessage') {\n                throw error;\n            }\n\n            try {\n                // There was an error with the sequence check. Try to ammend it.\n                await this.fixSequenceChecks();\n            } catch {\n                throw error;\n            }\n\n            if (retrying) {\n                // We're already retrying, don't send the data again because it could cause an infinite loop.\n                throw error;\n            }\n\n            // Sequence checks updated, try to send the data again.\n            return this.processAttempt(userFinish, timeUp, true);\n        }\n\n        // Answers saved, cancel auto save.\n        this.autoSave.cancelAutoSave();\n        this.autoSave.hideAutoSaveError();\n\n        if (this.formElement) {\n            CoreForms.triggerFormSubmittedEvent(this.formElement, !this.offline, CoreSites.getCurrentSiteId());\n        }\n\n        return CoreQuestionHelper.clearTmpData(this.questions, this.component, this.quiz!.coursemodule);\n    }\n\n    /**\n     * Scroll to a certain question.\n     *\n     * @param slot Slot of the question to scroll to.\n     */\n    protected scrollToQuestion(slot: number): void {\n        CoreDom.scrollToElement(\n            this.elementRef.nativeElement,\n            '#addon-mod_quiz-question-' + slot,\n        );\n    }\n\n    /**\n     * Show connection error.\n     *\n     * @param ev Click event.\n     */\n    showConnectionError(ev: Event): void {\n        this.autoSave.showAutoSaveError(ev);\n    }\n\n    /**\n     * Convenience function to start the player.\n     */\n    async start(): Promise<void> {\n        try {\n            this.loaded = false;\n\n            if (!this.quizDataLoaded) {\n                // Fetch data.\n                await this.fetchData();\n\n                this.quizDataLoaded = true;\n            }\n\n            // Quiz data has been loaded, try to start or continue.\n            await this.startOrContinueAttempt();\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Start or continue an attempt.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async startOrContinueAttempt(): Promise<void> {\n        try {\n            let attempt = this.newAttempt ? undefined : this.lastAttempt;\n\n            // Get the preflight data and start attempt if needed.\n            attempt = await AddonModQuizHelper.getAndCheckPreflightData(\n                this.quiz!,\n                this.quizAccessInfo!,\n                this.preflightData,\n                attempt,\n                this.offline,\n                false,\n                'addon.mod_quiz.startattempt',\n            );\n\n            // Re-fetch attempt access information with the right attempt (might have changed because a new attempt was created).\n            this.attemptAccessInfo = await AddonModQuiz.getAttemptAccessInformation(this.quiz!.id, attempt.id, {\n                cmId: this.quiz!.coursemodule,\n                readingStrategy: this.offline ? CoreSitesReadingStrategy.PREFER_CACHE : CoreSitesReadingStrategy.ONLY_NETWORK,\n            });\n\n            this.attempt = attempt;\n\n            await this.loadNavigation();\n\n            if (this.attempt.state != AddonModQuizProvider.ATTEMPT_OVERDUE && !this.attempt.finishedOffline) {\n                // Attempt not overdue and not finished in offline, load page.\n                await this.loadPage(this.attempt.currentpage!);\n\n                this.initTimer();\n            } else {\n                // Attempt is overdue or finished in offline, we can only load the summary.\n                await this.loadSummary();\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorgetquestions', true);\n        }\n    }\n\n    /**\n     * Quiz time has finished.\n     */\n    timeUp(): void {\n        if (this.timeUpCalled) {\n            return;\n        }\n\n        this.timeUpCalled = true;\n        this.finishAttempt(false, true);\n    }\n\n}\n\n/**\n * Question with some calculated data for the view.\n */\ntype QuizQuestion = CoreQuestionQuestionParsed & {\n    readableMark?: string;\n};\n","export default \"/**\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here the different files you should import to use global variables.\\n */\\n/**\\n * Imported ionic string functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.string.scss\\n */\\n/**\\n * Imported ionic color functions for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.functions.color.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/themes/ionic.mixins.scss\\n */\\n/**\\n * Imported ionic mixins for SCSS from different components\\n * ----------------------------------------------------------------------------\\n * Extracted from\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/grid/grid.mixins.scss\\n * https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/item/item.mixins.scss\\n */\\n/**\\n * App custom mixins for SCSS\\n * ----------------------------------------------------------------------------\\n * Place here our custom mixins.\\n */\\n/**\\n * Same as item-push-svg-url but admits flip-rtl\\n */\\n/*\\n * App Custom App variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all custom app variables.\\n */\\n/*\\n * App Global variables SCSS\\n * ----------------------------------------------------------------------------\\n * Place here all global variables.\\n */\\n/**\\n * Layout Breakpoints\\n *\\n * https://ionicframework.com/docs/layout/grid#default-breakpoints\\n */\\n:host .addon-mod_quiz-question-note p {\\n  margin-top: 2px;\\n  margin-bottom: 2px;\\n}\\n:host ion-content ion-toolbar {\\n  border-bottom: 1px solid var(--stroke);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-0 {\\n  background-color: #ca3120 !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-0 label, :host core-timer .core-timer.core-timer-timeleft-0 span, :host core-timer .core-timer.core-timer-timeleft-0 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-1 {\\n  background-color: rgba(202, 49, 32, 0.9333333333) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-1 label, :host core-timer .core-timer.core-timer-timeleft-1 span, :host core-timer .core-timer.core-timer-timeleft-1 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-2 {\\n  background-color: rgba(202, 49, 32, 0.8666666667) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-2 label, :host core-timer .core-timer.core-timer-timeleft-2 span, :host core-timer .core-timer.core-timer-timeleft-2 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-3 {\\n  background-color: rgba(202, 49, 32, 0.8) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-3 label, :host core-timer .core-timer.core-timer-timeleft-3 span, :host core-timer .core-timer.core-timer-timeleft-3 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-4 {\\n  background-color: rgba(202, 49, 32, 0.7333333333) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-4 label, :host core-timer .core-timer.core-timer-timeleft-4 span, :host core-timer .core-timer.core-timer-timeleft-4 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-5 {\\n  background-color: rgba(202, 49, 32, 0.6666666667) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-5 label, :host core-timer .core-timer.core-timer-timeleft-5 span, :host core-timer .core-timer.core-timer-timeleft-5 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-6 {\\n  background-color: rgba(202, 49, 32, 0.6) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-6 label, :host core-timer .core-timer.core-timer-timeleft-6 span, :host core-timer .core-timer.core-timer-timeleft-6 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-7 {\\n  background-color: rgba(202, 49, 32, 0.5333333333) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-7 label, :host core-timer .core-timer.core-timer-timeleft-7 span, :host core-timer .core-timer.core-timer-timeleft-7 ion-icon {\\n  color: var(--white);\\n}\\n:host core-timer .core-timer.core-timer-timeleft-8 {\\n  background-color: rgba(202, 49, 32, 0.4666666667) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-9 {\\n  background-color: rgba(202, 49, 32, 0.4) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-10 {\\n  background-color: rgba(202, 49, 32, 0.3333333333) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-11 {\\n  background-color: rgba(202, 49, 32, 0.2666666667) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-12 {\\n  background-color: rgba(202, 49, 32, 0.2) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-13 {\\n  background-color: rgba(202, 49, 32, 0.1333333333) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-14 {\\n  background-color: rgba(202, 49, 32, 0.0666666667) !important;\\n}\\n:host core-timer .core-timer.core-timer-timeleft-15 {\\n  background-color: rgba(202, 49, 32, 0) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJzcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwic3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsInNyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwic3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJzcmMvYWRkb25zL21vZC9xdWl6L3BhZ2VzL3BsYXllci9wbGF5ZXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQWtHQTs7RUFBQTtBQ3BHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDekRJO0VBQ0ksZUFBQTtFQUNBLGtCQUFBO0FBZ0RSO0FBN0NJO0VBQ0ksc0NBQUE7QUErQ1I7QUF6Q1k7RUFDSSxvQ0FBQTtBQTJDaEI7QUF4Q29CO0VBQ0ksbUJBQUE7QUEwQ3hCO0FBL0NZO0VBQ0ksNERBQUE7QUFpRGhCO0FBOUNvQjtFQUNJLG1CQUFBO0FBZ0R4QjtBQXJEWTtFQUNJLDREQUFBO0FBdURoQjtBQXBEb0I7RUFDSSxtQkFBQTtBQXNEeEI7QUEzRFk7RUFDSSxtREFBQTtBQTZEaEI7QUExRG9CO0VBQ0ksbUJBQUE7QUE0RHhCO0FBakVZO0VBQ0ksNERBQUE7QUFtRWhCO0FBaEVvQjtFQUNJLG1CQUFBO0FBa0V4QjtBQXZFWTtFQUNJLDREQUFBO0FBeUVoQjtBQXRFb0I7RUFDSSxtQkFBQTtBQXdFeEI7QUE3RVk7RUFDSSxtREFBQTtBQStFaEI7QUE1RW9CO0VBQ0ksbUJBQUE7QUE4RXhCO0FBbkZZO0VBQ0ksNERBQUE7QUFxRmhCO0FBbEZvQjtFQUNJLG1CQUFBO0FBb0Z4QjtBQXpGWTtFQUNJLDREQUFBO0FBMkZoQjtBQTVGWTtFQUNJLG1EQUFBO0FBOEZoQjtBQS9GWTtFQUNJLDREQUFBO0FBaUdoQjtBQWxHWTtFQUNJLDREQUFBO0FBb0doQjtBQXJHWTtFQUNJLG1EQUFBO0FBdUdoQjtBQXhHWTtFQUNJLDREQUFBO0FBMEdoQjtBQTNHWTtFQUNJLDREQUFBO0FBNkdoQjtBQTlHWTtFQUNJLGlEQUFBO0FBZ0hoQiIsImZpbGUiOiJzcmMvYWRkb25zL21vZC9xdWl6L3BhZ2VzL3BsYXllci9wbGF5ZXIuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxyXG4gKi9cclxuXHJcbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XHJcbiRhc3NldHMtcGF0aDogXCIuLi9hc3NldHNcIjtcclxuXHJcbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XHJcbkBpbXBvcnQgXCIuL2dsb2JhbHMuY3VzdG9tLnNjc3NcIjtcclxuQGltcG9ydCBcIi4vZ2xvYmFscy52YXJpYWJsZXMuc2Nzc1wiO1xyXG4iLCIvKipcclxuICogSW1wb3J0ZWQgaW9uaWMgc3RyaW5nIGZ1bmN0aW9ucyBmb3IgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEV4dHJhY3RlZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLnN0cmluZy5zY3NzXHJcbiAqL1xyXG5cclxuXHJcbi8vIFN0cmluZyBVdGlsaXR5IEZ1bmN0aW9uc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gU3RyaW5nIFJlcGxhY2UgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBzdHItcmVwbGFjZSgkc3RyaW5nLCAkc2VhcmNoLCAkcmVwbGFjZTogXCJcIikge1xyXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xyXG5cclxuICBAaWYgJGluZGV4IHtcclxuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJHN0cmluZztcclxufVxyXG5cclxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuQGZ1bmN0aW9uIHN0ci1zcGxpdCgkc3RyaW5nLCAkc2VwYXJhdG9yKSB7XHJcbiAgLy8gZW1wdHkgYXJyYXkvbGlzdFxyXG4gICRzcGxpdC1hcnI6ICgpO1xyXG4gIC8vIGZpcnN0IGluZGV4IG9mIHNlcGFyYXRvciBpbiBzdHJpbmdcclxuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcclxuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXHJcbiAgQHdoaWxlICRpbmRleCAhPSBudWxsIHtcclxuICAgIC8vIGdldCB0aGUgc3Vic3RyaW5nIGZyb20gdGhlIGZpcnN0IGNoYXJhY3RlciB0byB0aGUgc2VwYXJhdG9yXHJcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xyXG4gICAgLy8gcHVzaCBpdGVtIHRvIGFycmF5XHJcbiAgICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJGl0ZW0pO1xyXG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xyXG4gICAgJHN0cmluZzogc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIDEpO1xyXG4gICAgLy8gZmluZCBuZXcgaW5kZXggb2Ygc2VwYXJhdG9yXHJcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcclxuICB9XHJcbiAgLy8gYWRkIHRoZSByZW1haW5pbmcgc3RyaW5nIHRvIGxpc3QgKHRoZSBsYXN0IGl0ZW0pXHJcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xyXG5cclxuICBAcmV0dXJuICRzcGxpdC1hcnI7XHJcbn1cclxuXHJcblxyXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xyXG4gICRzdGFydC1pbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzdGFydCk7XHJcblxyXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xyXG4gICAgJHBvc3Q6IHN0ci1zbGljZSgkc3RyaW5nLCAkc3RhcnQtaW5kZXggKyBzdHItbGVuZ3RoKCRzdGFydCkpO1xyXG4gICAgJGVuZC1pbmRleDogc3RyLWluZGV4KCRwb3N0LCAkZW5kKTtcclxuXHJcbiAgICBAaWYgJGVuZC1pbmRleCB7XHJcbiAgICAgIEByZXR1cm4gc3RyLXNsaWNlKCRwb3N0LCAxLCAkZW5kLWluZGV4IC0gMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcblxyXG4vLyBTdHJpbmcgQ29udGFpbnMgRnVuY3Rpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBzdHItY29udGFpbnMoJHN0cmluZywgJG5lZWRsZSkge1xyXG4gIEBpZiAodHlwZS1vZigkc3RyaW5nKSA9PSBzdHJpbmcpIHtcclxuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuLy8gVVJMIEVuY29kZSBGdW5jdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQGZ1bmN0aW9uIHVybC1lbmNvZGUoJHZhbCkge1xyXG4gICRzcGFjZXM6IHN0ci1yZXBsYWNlKCR2YWwsIFwiIFwiLCBcIiUyMFwiKTtcclxuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xyXG4gIEByZXR1cm4gJGVuY29kZWQ7XHJcbn1cclxuXHJcblxyXG4vLyBBZGQgUm9vdCBTZWxlY3RvclxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBBZGRzIGEgcm9vdCBzZWxlY3RvciB1c2luZyBob3N0LWNvbnRleHQgYmFzZWQgb24gdGhlIHNlbGVjdG9yIHBhc3NlZFxyXG4vL1xyXG4vLyBFeGFtcGxlc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIltkaXI9cnRsXVwiLCBcIjpob3N0XCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCI6aG9zdCguZml4ZWQpXCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCI6aG9zdCgudGFiLWxheW91dC1pY29uLWhpZGUpIDo6c2xvdHRlZChpb24tYmFkZ2UpXCIpXHJcbi8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkudGFiLWxheW91dC1pY29uLWhpZGUgOjpzbG90dGVkKGlvbi1iYWRnZSlcclxuLy9cclxuLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJbZGlyPXJ0bF1cIiwgXCIuc2hhZG93XCIpXHJcbi8vIC0tPiBbZGlyPXJ0bF0gLnNoYWRvd1xyXG4vLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5zaGFkb3dcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBmdW5jdGlvbiBhZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgJGFkZEhvc3RTZWxlY3Rvcikge1xyXG4gICRzZWxlY3RvcnM6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xyXG5cclxuICAkbGlzdDogKCk7XHJcblxyXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcclxuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCggaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGEgY2xhc3Mgb24gdGhlIGhvc3RcclxuICAgIC8vIGVsZW1lbnQgc28gd2UgbmVlZCB0byBjaGFuZ2UgaG93IHdlIHRhcmdldCBpdFxyXG4gICAgQGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3QoXCIpIHtcclxuICAgICAgJHNoYWRvdy1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2VsZWN0b3IsIFwiOmhvc3QoXCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KTpob3N0KFwiKTtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XHJcblxyXG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xyXG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcclxuXHJcbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XHJcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xyXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiAkZWxlbWVudDtcclxuXHJcbiAgICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIikpXCIpIHtcclxuICAgICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiKSlcIiwgXCIpXCIpO1xyXG4gICAgICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIilcIiwgXCJcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIpO1xyXG5cclxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBzcGFjZSk7XHJcbiAgICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcclxuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcganVzdCB0aGUgaG9zdFxyXG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxyXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIsIGNvbW1hKTtcclxuICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xyXG4gICAgLy8gb3Igbm9ybWFsIGVsZW1lbnQgc28gYXBwZW5kIGJvdGggdGhlIGRpciBjaGVjayBhbmQgaG9zdC1jb250ZXh0XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCIjeyRhZGRIb3N0U2VsZWN0b3J9ICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XHJcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkbGlzdDtcclxufVxyXG4iLCIvKipcclxuICogSW1wb3J0ZWQgaW9uaWMgY29sb3IgZnVuY3Rpb25zIGZvciBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRXh0cmFjdGVkIGZyb21cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2Nzc1xyXG4gKi9cclxuXHJcbi8vIEdldHMgdGhlIGFjdGl2ZSBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIGEgdmFyaWF0aW9uLiBBbHBoYSBpcyBvcHRpb25hbC5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gRXhhbXBsZSB1c2FnZTpcclxuLy8gY3VycmVudC1jb2xvcihiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItYmFzZSlcclxuLy8gY3VycmVudC1jb2xvcihjb250cmFzdCwgMC4xKSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1jb250cmFzdC1yZ2IpLCAwLjEpXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBjdXJyZW50LWNvbG9yKCR2YXJpYXRpb24sICRhbHBoYTogbnVsbCkge1xyXG4gIEBpZiAkYWxwaGEgPT0gbnVsbCB7XHJcbiAgICBAcmV0dXJuIHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259KTtcclxuICB9IEBlbHNlIHtcclxuICAgIEByZXR1cm4gcmdiYSh2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufS1yZ2IpLCAjeyRhbHBoYX0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gR2V0cyB0aGUgc3BlY2lmaWMgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSB0aGUgbmFtZSBhbmQgdmFyaWF0aW9uLiBBbHBoYS9yZ2IgYXJlIG9wdGlvbmFsLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBFeGFtcGxlIHVzYWdlOlxyXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpXHJcbi8vIGlvbi1jb2xvcihzZWNvbmRhcnksIGNvbnRyYXN0KSA9PiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0KVxyXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSwgMC41KSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC41KVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gaW9uLWNvbG9yKCRuYW1lLCAkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwsICRyZ2I6IG51bGwpIHtcclxuICAkdmFsdWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRuYW1lKTtcclxuICAkdmFsdWU6IG1hcC1nZXQoJHZhbHVlcywgJHZhcmlhdGlvbik7XHJcbiAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfS0jeyR2YXJpYXRpb259O1xyXG5cclxuICBAaWYgKCR2YXJpYXRpb24gPT0gYmFzZSkge1xyXG4gICAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfTtcclxuICB9XHJcblxyXG4gIEBpZiAoJGFscGhhKSB7XHJcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XHJcbiAgICBAcmV0dXJuIHJnYmEodmFyKCN7JHZhcmlhYmxlfS1yZ2IsICR2YWx1ZSksICRhbHBoYSk7XHJcbiAgfVxyXG4gIEBpZiAoJHJnYikge1xyXG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xyXG4gICAgJHZhcmlhYmxlOiAjeyR2YXJpYWJsZX0tcmdiO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiB2YXIoI3skdmFyaWFibGV9LCAkdmFsdWUpO1xyXG59XHJcblxyXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZSgkY29sb3IpIHtcclxuICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsIDEyJSk7XHJcbn1cclxuXHJcbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBnZXQtY29sb3ItdGludCgkY29sb3IpIHtcclxuICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsIDEwJSk7XHJcbn1cclxuXHJcbi8vIENvbnZlcnRzIGEgY29sb3IgdG8gYSBjb21tYSBzZXBhcmF0ZWQgcmdiLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gY29sb3ItdG8tcmdiLWxpc3QoJGNvbG9yKSB7XHJcbiAgQHJldHVybiAje3JlZCgkY29sb3IpfSwje2dyZWVuKCRjb2xvcil9LCN7Ymx1ZSgkY29sb3IpfTtcclxufVxyXG4iLCIvKipcclxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogRXh0cmFjdGVkIGZyb21cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5taXhpbnMuc2Nzc1xyXG4gKi9cclxuXHJcbkBtaXhpbiBpbnB1dC1jb3ZlcigpIHtcclxuICBAaW5jbHVkZSBwb3NpdGlvbigwLCBudWxsLCBudWxsLCAwKTtcclxuICBAaW5jbHVkZSBtYXJnaW4oMCk7XHJcblxyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG5cclxuICBib3JkZXI6IDA7XHJcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICBhcHBlYXJhbmNlOiBub25lO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcblxyXG4gICY6Oi1tb3otZm9jdXMtaW5uZXIge1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHZpc3VhbGx5LWhpZGRlbigpIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblxyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGJvdHRvbTogMDtcclxuXHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG5cclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuXHJcbiAgYm9yZGVyOiAwO1xyXG4gIG91dGxpbmU6IDA7XHJcbiAgY2xpcDogcmVjdCgwIDAgMCAwKTtcclxuXHJcbiAgb3BhY2l0eTogMDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG5cclxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xyXG59XHJcblxyXG5AbWl4aW4gdGV4dC1pbmhlcml0KCkge1xyXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xyXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcclxuICBmb250LXN0eWxlOiBpbmhlcml0O1xyXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xyXG4gIGxldHRlci1zcGFjaW5nOiBpbmhlcml0O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcclxuICB0ZXh0LWluZGVudDogaW5oZXJpdDtcclxuICB0ZXh0LW92ZXJmbG93OiBpbmhlcml0O1xyXG4gIHRleHQtdHJhbnNmb3JtOiBpbmhlcml0O1xyXG4gIHRleHQtYWxpZ246IGluaGVyaXQ7XHJcbiAgd2hpdGUtc3BhY2U6IGluaGVyaXQ7XHJcbiAgY29sb3I6IGluaGVyaXQ7XHJcbn1cclxuXHJcbkBtaXhpbiBidXR0b24tc3RhdGUoKSB7XHJcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XHJcblxyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHJcbiAgY29udGVudDogXCJcIjtcclxuXHJcbiAgb3BhY2l0eTogMDtcclxufVxyXG5cclxuLy8gRm9udCBzbW9vdGhpbmdcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBtaXhpbiBmb250LXNtb290aGluZygpIHtcclxuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xyXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xyXG59XHJcblxyXG4vLyBHZXQgdGhlIGtleSBmcm9tIGEgbWFwIGJhc2VkIG9uIHRoZSBpbmRleFxyXG5AZnVuY3Rpb24gaW5kZXgtdG8ta2V5KCRtYXAsICRpbmRleCkge1xyXG4gICRrZXlzOiBtYXAta2V5cygkbWFwKTtcclxuXHJcbiAgQHJldHVybiBudGgoJGtleXMsICRpbmRleCk7XHJcbn1cclxuXHJcblxyXG4vLyBCcmVha3BvaW50IE1peGluc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIEJyZWFrcG9pbnQgdmlld3BvcnQgc2l6ZXMgYW5kIG1lZGlhIHF1ZXJpZXMuXHJcbi8vXHJcbi8vIEJyZWFrcG9pbnRzIGFyZSBkZWZpbmVkIGFzIGEgbWFwIG9mIChuYW1lOiBtaW5pbXVtIHdpZHRoKSwgb3JkZXIgZnJvbSBzbWFsbCB0byBsYXJnZTpcclxuLy9cclxuLy8gICAgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KVxyXG4vL1xyXG4vLyBUaGUgbWFwIGRlZmluZWQgaW4gdGhlIGAkc2NyZWVuLWJyZWFrcG9pbnRzYCBnbG9iYWwgdmFyaWFibGUgaXMgdXNlZCBhcyB0aGUgYCRicmVha3BvaW50c2AgYXJndW1lbnQgYnkgZGVmYXVsdC5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxyXG4vL1xyXG4vLyAgICA+PiBicmVha3BvaW50LW1pbihzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcclxuLy8gICAgNTc2cHhcclxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICAkbWluOiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xyXG5cclxuICBAcmV0dXJuIGlmKCRuYW1lICE9IGluZGV4LXRvLWtleSgkYnJlYWtwb2ludHMsIDEpLCAkbWluLCBudWxsKTtcclxufVxyXG5cclxuLy8gUmV0dXJucyBhIGJsYW5rIHN0cmluZyBpZiBzbWFsbGVzdCBicmVha3BvaW50LCBvdGhlcndpc2UgcmV0dXJucyB0aGUgbmFtZSB3aXRoIGEgZGFzaCBpbmZyb250LlxyXG4vLyBVc2VmdWwgZm9yIG1ha2luZyByZXNwb25zaXZlIHV0aWxpdGllcy5cclxuLy9cclxuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeCh4cywgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcclxuLy8gICAgXCJcIiAgKFJldHVybnMgYSBibGFuayBzdHJpbmcpXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXHJcbi8vICAgIFwiLXNtXCJcclxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtaW5maXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XHJcbn1cclxuXHJcbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cclxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCB3aWRlci5cclxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtdXAoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xyXG4gICRtaW46IGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpO1xyXG4gIEBpZiAkbWluIHtcclxuICAgIEBtZWRpYSAobWluLXdpZHRoOiAkbWluKSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBOYW1lIG9mIHRoZSBuZXh0IGJyZWFrcG9pbnQsIG9yIG51bGwgZm9yIHRoZSBsYXN0IGJyZWFrcG9pbnQuXHJcbi8vXHJcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSlcclxuLy8gICAgbWRcclxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxyXG4vLyAgICBtZFxyXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICRicmVha3BvaW50LW5hbWVzOiAoeHMgc20gbWQgbGcgeGwpKVxyXG4vLyAgICBtZFxyXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1uZXh0KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XHJcbiAgJG46IGluZGV4KCRicmVha3BvaW50LW5hbWVzLCAkbmFtZSk7XHJcbiAgQHJldHVybiBpZigkbiA8IGxlbmd0aCgkYnJlYWtwb2ludC1uYW1lcyksIG50aCgkYnJlYWtwb2ludC1uYW1lcywgJG4gKyAxKSwgbnVsbCk7XHJcbn1cclxuXHJcbi8vIE1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cclxuLy8gVGhlIG1heGltdW0gdmFsdWUgaXMgcmVkdWNlZCBieSAwLjAycHggdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mXHJcbi8vIGBtaW4tYCBhbmQgYG1heC1gIHByZWZpeGVzIGFuZCB2aWV3cG9ydHMgd2l0aCBmcmFjdGlvbmFsIHdpZHRocy5cclxuLy9cclxuLy8gU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9tZWRpYXF1ZXJpZXMtNC8jbXEtbWluLW1heFxyXG4vLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXHQvLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXHJcbi8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXHQvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVxyXG4vL1xyXG4vLyAgICA+PiBicmVha3BvaW50LW1heChtZCwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcclxuLy8gICAgNzY3Ljk4cHhcclxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICAkbWF4OiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xyXG4gIEByZXR1cm4gaWYoJG1heCBhbmQgJG1heCA+IDAsICRtYXggLSAuMDIsIG51bGwpO1xyXG59XHJcblxyXG4vLyBNZWRpYSBvZiBhdCBtb3N0IHRoZSBtYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgbGFyZ2VzdCBicmVha3BvaW50LlxyXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxyXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC1kb3duKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcclxuICAkbWF4OiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzKTtcclxuICBAaWYgJG1heCB7XHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogJG1heCkge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFRleHQgRGlyZWN0aW9uIC0gbHRyIC8gcnRsXHJcbi8vXHJcbi8vIENTUyBkZWZhdWx0cyB0byB1c2UgdGhlIGx0ciBjc3MsIGFuZCBhZGRzIFtkaXI9cnRsXSBzZWxlY3RvcnNcclxuLy8gdG8gb3ZlcnJpZGUgbHRyIGRlZmF1bHRzLlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AbWl4aW4gbXVsdGktZGlyKCkge1xyXG4gIEBjb250ZW50O1xyXG5cclxuICAvLyAkcm9vdDogI3smfTtcclxuICAvLyBAYXQtcm9vdCBbZGlyXSB7XHJcbiAgLy8gICAjeyRyb290fSB7XHJcbiAgLy8gICAgIEBjb250ZW50O1xyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxufVxyXG5cclxuQG1peGluIHJ0bCgpIHtcclxuICAkcm9vdDogI3smfTtcclxuXHJcbiAgQGF0LXJvb3QgI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJbZGlyPXJ0bF1cIil9IHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGx0cigpIHtcclxuICBAY29udGVudDtcclxufVxyXG5cclxuXHJcbi8vIFNWRyBCYWNrZ3JvdW5kIEltYWdlIE1peGluXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3ZnXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRzdmcsICRmbGlwLXJ0bDogZmFsc2UpIHtcclxuICAkdXJsOiB1cmwtZW5jb2RlKCRzdmcpO1xyXG4gICR2aWV3Qm94OiBzdHItc3BsaXQoc3RyLWV4dHJhY3QoJHN2ZywgXCJ2aWV3Qm94PSdcIiwgXCInXCIpLCBcIiBcIik7XHJcblxyXG4gIEBpZiAkZmxpcC1ydGwgIT0gdHJ1ZSBvciAkdmlld0JveCA9PSBudWxsIHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgICR0cmFuc2Zvcm06IFwidHJhbnNmb3JtPSd0cmFuc2xhdGUoI3tudGgoJHZpZXdCb3gsIDMpfSwgMCkgc2NhbGUoLTEsIDEpJ1wiO1xyXG4gICAgJGZsaXBwZWQtdXJsOiAkc3ZnO1xyXG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBhdGhcIiwgXCI8cGF0aCAjeyR0cmFuc2Zvcm19XCIpO1xyXG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPGxpbmVcIiwgXCI8bGluZSAjeyR0cmFuc2Zvcm19XCIpO1xyXG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBvbHlnb25cIiwgXCI8cG9seWdvbiAjeyR0cmFuc2Zvcm19XCIpO1xyXG4gICAgJGZsaXBwZWQtdXJsOiB1cmwtZW5jb2RlKCRmbGlwcGVkLXVybCk7XHJcblxyXG4gICAgQGluY2x1ZGUgbHRyICgpIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skZmxpcHBlZC11cmx9XCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIHByb3BlcnR5IGhvcml6b250YWxcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gIEBpZiAkc3RhcnQgPT0gMCBhbmQgJGVuZCA9PSAwIHtcclxuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcclxuICAgICN7JHByb3B9LXJpZ2h0OiAkZW5kO1xyXG5cclxuICB9IEBlbHNlIHtcclxuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcclxuICAgICN7JHByb3B9LXJpZ2h0OiAkZW5kO1xyXG5cclxuICAgIEBhdC1yb290IHtcclxuICAgICAgQHN1cHBvcnRzICgobWFyZ2luLWlubGluZS1zdGFydDogMCkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSkge1xyXG4gICAgICAgICYge1xyXG4gICAgICAgICAgQGlmICRzdGFydCAhPSBudWxsIHtcclxuICAgICAgICAgICAgI3skcHJvcH0tbGVmdDogdW5zZXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBAaWYgJGVuZCAhPSBudWxsIHtcclxuICAgICAgICAgICAgI3skcHJvcH0tcmlnaHQ6IHVuc2V0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC13ZWJraXQtI3skcHJvcH0tc3RhcnQ6ICRzdGFydDtcclxuICAgICAgICAgICN7JHByb3B9LWlubGluZS1zdGFydDogJHN0YXJ0O1xyXG4gICAgICAgICAgLXdlYmtpdC0jeyRwcm9wfS1lbmQ6ICRlbmQ7XHJcbiAgICAgICAgICAjeyRwcm9wfS1pbmxpbmUtZW5kOiAkZW5kO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQWRkIHByb3BlcnR5IGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHByb3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyBAcGFyYW0ge2Jvb2xlYW59ICRjb250ZW50IGluY2x1ZGUgY29udGVudCBvciB1c2UgZGVmYXVsdFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwcm9wZXJ0eSgkcHJvcCwgJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kKTtcclxuICAjeyRwcm9wfS10b3A6ICR0b3A7XHJcbiAgI3skcHJvcH0tYm90dG9tOiAkYm90dG9tO1xyXG59XHJcblxyXG4vLyBBZGQgcGFkZGluZyBob3Jpem9udGFsXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChwYWRkaW5nLCAkc3RhcnQsICRlbmQpO1xyXG59XHJcblxyXG4vLyBBZGQgcGFkZGluZyBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwYWRkaW5nKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5KHBhZGRpbmcsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XHJcbn1cclxuXHJcbi8vIEFkZCBtYXJnaW4gaG9yaXpvbnRhbFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQG1peGluIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChtYXJnaW4sICRzdGFydCwgJGVuZCk7XHJcbn1cclxuXHJcbi8vIEFkZCBtYXJnaW4gZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gbWFyZ2luKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xyXG4gIEBpbmNsdWRlIHByb3BlcnR5KG1hcmdpbiwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcclxufVxyXG5cclxuLy8gQWRkIHBvc2l0aW9uIGhvcml6b250YWxcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydCAtIGFtb3VudCB0byBwb3NpdGlvbiBzdGFydFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZCAtIGFtb3VudCB0byBsZWZ0OiAwOyBlbmRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQ6IG51bGwsICRlbmQ6IG51bGwpIHtcclxuICBAaWYgJHN0YXJ0ID09ICRlbmQge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICBsZWZ0OiAkc3RhcnQ7XHJcbiAgICAgIHJpZ2h0OiAkZW5kO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICBsZWZ0OiAkc3RhcnQ7XHJcbiAgICAgIHJpZ2h0OiAkZW5kO1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBsZWZ0OiB1bnNldDtcclxuICAgICAgcmlnaHQ6IHVuc2V0O1xyXG5cclxuICAgICAgbGVmdDogJGVuZDtcclxuICAgICAgcmlnaHQ6ICRzdGFydDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBwb3NpdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBwb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcclxuICBAaW5jbHVkZSBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZCk7XHJcbiAgdG9wOiAkdG9wO1xyXG4gIGJvdHRvbTogJGJvdHRvbTtcclxufVxyXG5cclxuLy8gQWRkIGJvcmRlciBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3BcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cclxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBib3JkZXIoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XHJcbiAgQGluY2x1ZGUgcHJvcGVydHkoYm9yZGVyLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xyXG59XHJcblxyXG4vLyBBZGQgYm9yZGVyIHJhZGl1cyBmb3IgYWxsIGRpcmVjdGlvbnNcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Atc3RhcnRcclxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3AtZW5kXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLWVuZFxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1zdGFydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBib3JkZXItcmFkaXVzKCR0b3Atc3RhcnQsICR0b3AtZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1zdGFydDogJHRvcC1lbmQpIHtcclxuICBAaWYgJHRvcC1zdGFydCA9PSAkdG9wLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLXN0YXJ0IHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgYm9yZGVyLXJhZGl1czogJHRvcC1zdGFydDtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1zdGFydDtcclxuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3AtZW5kO1xyXG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1lbmQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLWVuZDtcclxuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3Atc3RhcnQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xyXG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLWVuZDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBkaXJlY3Rpb24gZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGlyIC0gRGlyZWN0aW9uIG9uIExUUlxyXG5AbWl4aW4gZGlyZWN0aW9uKCRkaXIpIHtcclxuICAkb3RoZXItZGlyOiBudWxsO1xyXG5cclxuICBAaWYgJGRpciA9PSBsdHIge1xyXG4gICAgJG90aGVyLWRpcjogcnRsO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgJG90aGVyLWRpcjogbHRyO1xyXG4gIH1cclxuXHJcbiAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgZGlyZWN0aW9uOiAkZGlyO1xyXG4gIH1cclxuICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICBkaXJlY3Rpb246ICRvdGhlci1kaXI7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgZmxvYXQgZm9yIGFsbCBkaXJlY3Rpb25zXHJcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc2lkZVxyXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRlY29yYXRvciAtICFpbXBvcnRhbnRcclxuQG1peGluIGZsb2F0KCRzaWRlLCAkZGVjb3JhdG9yOiBudWxsKSB7XHJcbiAgQGlmICRzaWRlID09IHN0YXJ0IHtcclxuICAgIEBpbmNsdWRlIGx0cigpIHtcclxuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSBpZiAkc2lkZSA9PSBlbmQge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcclxuICAgIH1cclxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcclxuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcclxuICAgIH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgZmxvYXQ6ICRzaWRlICRkZWNvcmF0b3I7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gYmFja2dyb3VuZC1wb3NpdGlvbigkaG9yaXpvbnRhbCwgJGhvcml6b250YWwtYW1vdW50OiBudWxsLCAkdmVydGljYWw6IG51bGwsICR2ZXJ0aWNhbC1hbW91bnQ6IG51bGwpIHtcclxuICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQgb3IgJGhvcml6b250YWwgPT0gZW5kIHtcclxuICAgICRob3Jpem9udGFsLWx0cjogbnVsbDtcclxuICAgICRob3Jpem9udGFsLXJ0bDogbnVsbDtcclxuICAgIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCB7XHJcbiAgICAgICRob3Jpem9udGFsLWx0cjogbGVmdDtcclxuICAgICAgJGhvcml6b250YWwtcnRsOiByaWdodDtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IHJpZ2h0O1xyXG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IGxlZnQ7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1sdHIgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xyXG4gICAgfVxyXG4gICAgQGluY2x1ZGUgcnRsKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1ydGwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xyXG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5AbWl4aW4gdHJhbnNmb3JtLW9yaWdpbigkeC1heGlzLCAkeS1heGlzOiBudWxsKSB7XHJcbiAgQGlmICR4LWF4aXMgPT0gc3RhcnQge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGVuZCB7XHJcbiAgICBAaW5jbHVkZSBsdHIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcclxuICAgIH1cclxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gbGVmdCBvciAkeC1heGlzID09IHJpZ2h0IHtcclxuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcclxuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNhbGMoMTAwJSAtICN7JHgtYXhpc30pICR5LWF4aXM7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBZGQgdHJhbnNmb3JtIGZvciBhbGwgZGlyZWN0aW9uc1xyXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRyYW5zZm9ybXMgLSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0cmFuc2Zvcm1zXHJcbkBtaXhpbiB0cmFuc2Zvcm0oJHRyYW5zZm9ybXMuLi4pIHtcclxuICAkZXh0cmE6IG51bGw7XHJcblxyXG4gICR4OiBudWxsO1xyXG4gICRsdHItdHJhbnNsYXRlOiBudWxsO1xyXG4gICRydGwtdHJhbnNsYXRlOiBudWxsO1xyXG5cclxuICBAZWFjaCAkdHJhbnNmb3JtIGluICR0cmFuc2Zvcm1zIHtcclxuICAgIEBpZiAoc3RyLWluZGV4KCR0cmFuc2Zvcm0sIHRyYW5zbGF0ZTNkKSkge1xyXG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAndHJhbnNsYXRlM2QoJyk7XHJcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICcpJyk7XHJcblxyXG4gICAgICAkY29vcmRpbmF0ZXM6IHN0ci1zcGxpdCgkdHJhbnNmb3JtLCAnLCcpO1xyXG5cclxuICAgICAgJHg6IG50aCgkY29vcmRpbmF0ZXMsIDEpO1xyXG4gICAgICAkeTogbnRoKCRjb29yZGluYXRlcywgMik7XHJcbiAgICAgICR6OiBudGgoJGNvb3JkaW5hdGVzLCAzKTtcclxuXHJcbiAgICAgICRsdHItdHJhbnNsYXRlOiB0cmFuc2xhdGUzZCgkeCwgJHksICR6KTtcclxuICAgICAgJHJ0bC10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKGNhbGMoLTEgKiAjeyR4fSksICR5LCAkeik7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgQGlmICRleHRyYSA9PSBudWxsIHtcclxuICAgICAgICAkZXh0cmE6ICR0cmFuc2Zvcm07XHJcbiAgICAgIH0gQGVsc2Uge1xyXG4gICAgICAgICRleHRyYTogJGV4dHJhICR0cmFuc2Zvcm07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBpZiAkeCA9PSAnMCcgb3IgJHggPT0gbnVsbCB7XHJcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XHJcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgbHRyKCkge1xyXG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcclxuICAgIH1cclxuXHJcbiAgICBAaW5jbHVkZSBydGwoKSB7XHJcbiAgICAgIHRyYW5zZm9ybTogJHJ0bC10cmFuc2xhdGUgJGV4dHJhO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKipcclxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBFeHRyYWN0ZWQgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQubWl4aW5zLnNjc3NcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvaXRlbS9pdGVtLm1peGlucy5zY3NzXHJcbiAqL1xyXG5cclxuLy8gUmVzcG9uc2l2ZSBNaXhpbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4vLyBDcmVhdGVzIGEgZml4ZWQgd2lkdGggZm9yIHRoZSBncmlkIGJhc2VkIG9uIHRoZSBzY3JlZW4gc2l6ZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkBtaXhpbiBtYWtlLWdyaWQtd2lkdGhzKCR3aWR0aHM6ICRncmlkLXdpZHRocywgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XHJcbiAgQGVhY2ggJGJyZWFrcG9pbnQsICR3aWR0aCBpbiAkd2lkdGhzIHtcclxuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQsICRicmVha3BvaW50cykge1xyXG4gICAgICB3aWR0aDogJHdpZHRoO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLy8gQWRkcyBwYWRkaW5nIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIGJyZWFrcG9pbnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuQG1peGluIG1ha2UtYnJlYWtwb2ludC1wYWRkaW5nKCRwYWRkaW5ncykge1xyXG4gIEBlYWNoICRicmVha3BvaW50IGluIG1hcC1rZXlzKCRwYWRkaW5ncykge1xyXG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCkge1xyXG4gICAgICAkcGFkZGluZzogbWFwLWdldCgkcGFkZGluZ3MsICRicmVha3BvaW50KTtcclxuXHJcbiAgICAgIEBpbmNsdWRlIHBhZGRpbmcoJHBhZGRpbmcpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIEl0ZW0gTWl4aW5zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5AbWl4aW4gaXRlbS1wdXNoLXN2Zy11cmwoJGZpbGwpIHtcclxuICAkaXRlbS1kZXRhaWwtcHVzaC1zdmc6IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMiAyMCc+PHBhdGggZD0nTTIsMjBsLTItMmw4LThMMCwybDItMmwxMCwxMEwyLDIweicgZmlsbD0nI3skZmlsbH0nLz48L3N2Zz5cIjtcclxuXHJcbiAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCB0cnVlKTtcclxufVxyXG4iLCJAdXNlIFwic2FzczptYXRoXCIgYXMgbWF0aDtcclxuXHJcbi8qKlxyXG4gKiBBcHAgY3VzdG9tIG1peGlucyBmb3IgU0NTU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFBsYWNlIGhlcmUgb3VyIGN1c3RvbSBtaXhpbnMuXHJcbiAqL1xyXG5cclxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXHJcbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIDYuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA0OCUpIHtcclxuICAgIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgJHBlcmNlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cclxuICAvLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCAtMTAuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBAZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA4MCUpIHtcclxuICAgIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgJHBlcmNlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8gSW9uaWMgQ29sb3JzXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBHZW5lcmF0ZXMgdGhlIGNvbG9yIGNsYXNzZXMgYW5kIHZhcmlhYmxlcyBiYXNlZCBvbiB0aGVcclxuICAvLyBjb2xvcnMgbWFwXHJcblxyXG4gIEBtaXhpbiBnZW5lcmF0ZS1jb2xvcigkY29sb3ItbmFtZSwgJGNvbG9ycykge1xyXG4gICAgICAkYmFzZTogbWFwLWdldCgkY29sb3JzLCAkY29sb3ItbmFtZSk7XHJcbiAgICAgICRsaWdodDogbWFwLWdldCgkYmFzZSwgJ2xpZ2h0Jyk7XHJcblxyXG4gICAgICBAaW5jbHVkZSBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGxpZ2h0KTtcclxuXHJcbiAgICAgIGJvZHkuZGFyayB7XHJcbiAgICAgICAgICAkZGFyazogbWFwLWdldCgkYmFzZSwgJ2RhcmsnKTtcclxuICAgICAgICAgICRkYXJrOiBtaXgoJGxpZ2h0LCB3aGl0ZSwgODAlKSAhZGVmYXVsdDtcclxuICAgICAgICAgIEBpbmNsdWRlIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkZGFyayk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIEBtaXhpbiBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpIHtcclxuICAgICAgJGNvbnRyYXN0OiBnZXRfY29udHJhc3RfY29sb3IoJGJhc2UpO1xyXG4gICAgICAkc2hhZGU6IGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRiYXNlKTtcclxuICAgICAgJHRpbnQ6IGdldC1jb2xvci10aW50LXBlcmNlbnQoJGJhc2UpO1xyXG5cclxuICAgICAgLS0jeyRjb2xvci1uYW1lfTogI3skYmFzZX07XHJcbiAgICAgIC0tI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcclxuICAgICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcclxuICAgICAgLS0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xyXG5cclxuICAgICAgLy8gSW50ZXJuYWwgaW9uaWMgdXNlIG9ubHkuXHJcbiAgICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9OiB2YXIoLS0jeyRjb2xvci1uYW1lfSk7XHJcbiAgICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XHJcbiAgICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYjogI3tjb2xvci10by1yZ2ItbGlzdCgkYmFzZSl9O1xyXG4gICAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xyXG4gICAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XHJcbiAgICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XHJcbiAgICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xyXG5cclxuICAgICAgLmlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSB7XHJcbiAgICAgICAgICAtLWlvbi1jb2xvcjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcclxuICAgICAgICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlKTtcclxuICAgICAgICAgIC0taW9uLWNvbG9yLXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYik7XHJcbiAgICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0KTtcclxuICAgICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYik7XHJcbiAgICAgICAgICAtLWlvbi1jb2xvci1zaGFkZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlKTtcclxuICAgICAgICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50KTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcblxyXG4gQG1peGluIGNvcmUtZm9jdXMoKSB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgJjo6YWZ0ZXIge1xyXG4gICAgICAgIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICBAaW5jbHVkZSBjb3JlLWZvY3VzLXN0eWxlKCk7XHJcbiAgICB9XHJcbiB9XHJcblxyXG4gQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XHJcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgMXB4IHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xyXG4gICAgLy8gVGhpY2tlciBvcHRpb246XHJcbiAgICAvLyBib3JkZXI6IHZhcigtLWExMXktZm9jdXMtd2lkdGgpIHNvbGlkIHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xyXG59XHJcblxyXG5AbWl4aW4gY29yZS10cmFuc2l0aW9uKCRwcm9wZXJ0aWVzOiBhbGwsICRkdXJhdGlvbjogNTAwbXMsICR0aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0KSB7XHJcbiAgICAkdHJhbnNpdGlvbnM6ICgpO1xyXG4gICAgQGVhY2ggJHByb3BlcnR5IGluICRwcm9wZXJ0aWVzIHtcclxuICAgICAgJHRyYW5zaXRpb25zOiBhcHBlbmQoJHRyYW5zaXRpb25zLCAkcHJvcGVydHkgJGR1cmF0aW9uICR0aW1pbmctZnVuY3Rpb24sIGNvbW1hKTtcclxuICAgIH1cclxuXHJcbiAgICAtd2Via2l0LXRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcclxuICAgIHRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNhbWUgYXMgaXRlbS1wdXNoLXN2Zy11cmwgYnV0IGFkbWl0cyBmbGlwLXJ0bFxyXG4gKi9cclxuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xyXG4gICAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XHJcblxyXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xyXG59XHJcblxyXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xyXG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsICRweCAkdHlwZSAkY29sb3IsIG51bGwpO1xyXG59XHJcblxyXG5AbWl4aW4gYm9yZGVyLWVuZCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcclxuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCBudWxsLCAkcHggJHR5cGUgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItc3RhcnQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XHJcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIGJvcmRlci1zdGFydCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItZW5kKCRweCwgJHR5cGUsICRjb2xvcikge1xyXG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XHJcblxyXG4gICAgQGluY2x1ZGUgYm9yZGVyLWVuZCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xyXG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xyXG5cclxuICAgIEBpZiAoJGVuZCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcbiAgICB9XHJcbiAgICBAaWYgKCRzdGFydCkge1xyXG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1zdGFydCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWVuZCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XHJcbn1cclxuXHJcbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XHJcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcclxuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XHJcblxyXG4gICAgQGlmICgkZW5kKSB7XHJcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcclxuICAgIH1cclxuICAgIEBpZiAoJHN0YXJ0KSB7XHJcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcclxuICAgIH1cclxuXHJcbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XHJcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xyXG5cclxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcclxufVxyXG5cclxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xyXG59XHJcblxyXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xyXG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcclxuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XHJcblxyXG4gICAgQGluY2x1ZGUgcG9zaXRpb24oJHRvcCwgJHNhZmUtYXJlYS1lbmQsICRib3R0b20sICRzYWZlLWFyZWEtc3RhcnQpO1xyXG59XHJcblxyXG5AbWl4aW4gY29yZS1oZWFkaW5ncygpIHtcclxuICAgIGgxIHtcclxuICAgICAgICBmb250LXNpemU6IDI2cHg7XHJcbiAgICB9XHJcbiAgICBoMiwgLml0ZW0taGVhZGluZyB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgfVxyXG4gICAgaDMge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIH1cclxuICAgIGg0IHtcclxuICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICB9XHJcbiAgICBoNSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG4gICAgaDYge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGRhcmttb2RlKCkge1xyXG4gICAgJHJvb3Q6ICN7Jn07XHJcblxyXG4gICAgQGF0LXJvb3QgI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJib2R5LmRhcmtcIil9IHtcclxuICAgICAgICBAY29udGVudDtcclxuICAgIH1cclxufVxyXG5cclxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XHJcbiAgICBmbGV4OiAwIDAgJHdpZHRoO1xyXG4gICAgbWluLXdpZHRoOiAkbWluLXdpZHRoO1xyXG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xyXG4gICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG5cclxuICAgIGlvbi1jYXJkIHtcclxuICAgICAgICAtLXZlcnRpY2FsLW1hcmdpbjogMTBweDtcclxuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xyXG5cclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pKTtcclxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcclxuICAgICAgICBtYXJnaW46IHZhcigtLXZlcnRpY2FsLW1hcmdpbikgdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pO1xyXG5cclxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcclxuICAgICAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogNnB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gQ29sb3IgbWl4aW5zLlxyXG5AZnVuY3Rpb24gZ2V0X2JyaWdodG5lc3MoJGNvbG9yKSB7XHJcbiAgICBAcmV0dXJuIChyZWQoJGNvbG9yKSArIGdyZWVuKCRjb2xvcikgKyBibHVlKCRjb2xvcikpIC8gMztcclxufVxyXG5cclxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXHJcbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3IoJGNvbG9yKSB7XHJcbiAgICAkbHVtaWFuY2U6IGx1bWluYW5jZSgkY29sb3IpO1xyXG5cclxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDEuXHJcbiAgICAkd2hpdGVDb250cmFzdDogKCRsdW1pYW5jZSArIDAuMDUpIC8gKDEgKyAwLjA1KTtcclxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDAuXHJcbiAgICAkYmxhY2tDb250cmFzdDogKDAuMDUpIC8gKCRsdW1pYW5jZSArIDAuMDUpO1xyXG5cclxuICAgIEByZXR1cm4gaWYoJHdoaXRlQ29udHJhc3QgPCAkYmxhY2tDb250cmFzdCwgd2hpdGUsIGJsYWNrKTtcclxufVxyXG5cclxuLy8gQ29sb3IgY29udHJhc3QgdXNpbmcgeWlxIGFwcm94aW1hdGlvbiB3aXRoIDE1MCB0aHJlc2hvbGQuXHJcbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3JfeWlxKCRjb2xvciwgJGRhcms6IGJsYWNrLCAkbGlnaHQ6IHdoaXRlKSB7XHJcbiAgICAkcjogcmVkKCRjb2xvcik7XHJcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcclxuICAgICRiOiBibHVlKCRjb2xvcik7XHJcblxyXG4gICAgJHlpcTogKCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSkgLyAxMDAwO1xyXG5cclxuICAgIEByZXR1cm4gaWYoJHlpcSA+PSAxMjgsICRkYXJrLCAkbGlnaHQpO1xyXG59XHJcblxyXG4vLyBXQ0FHIGNvbnRyYXN0IGFsZ29yeXRobVxyXG5AZnVuY3Rpb24gY2hlY2stY29udHJhc3QoJGZvcmVncm91bmQsICRiYWNrZ3JvdW5kKSB7XHJcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xyXG4gICAgJGJhY2tncm91bmRMdW1pbmFuY2U6IGx1bWluYW5jZSgkYmFja2dyb3VuZCk7XHJcblxyXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcclxuICAgICAgICBAcmV0dXJuICgkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpIC8gKCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAgIEByZXR1cm4gKCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KSAvICgkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5AZnVuY3Rpb24gbHVtaW5hbmNlKCRjb2xvcikge1xyXG4gICAgJHI6IHJlZCgkY29sb3IpO1xyXG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XHJcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xyXG5cclxuICAgICRyOiBjb21wb25lbnQtbHVtaW5hbmNlKCRyKTtcclxuICAgICRnOiBjb21wb25lbnQtbHVtaW5hbmNlKCRnKTtcclxuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcclxuXHJcbiAgICBAcmV0dXJuICRyICogMC4yMTI2ICsgJGcgKiAwLjcxNTIgKyAkYiAqIDAuMDcyMjtcclxufVxyXG5cclxuQGZ1bmN0aW9uIGNvbXBvbmVudC1sdW1pbmFuY2UoJHZhbHVlKSB7XHJcbiAgICAkdmFsdWU6ICR2YWx1ZSAvIDI1NTtcclxuXHJcbiAgICBAaWYgKCR2YWx1ZSA8PSAwLjAzOTI4KSB7XHJcbiAgICAgICAgQHJldHVybiAkdmFsdWUgLyAxMi45MjtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAgIEByZXR1cm4gbWF0aC5wb3coKCR2YWx1ZSArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcbiAqIEFwcCBDdXN0b20gQXBwIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXHJcbiAqL1xyXG4iLCIvKlxyXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogUGxhY2UgaGVyZSBhbGwgZ2xvYmFsIHZhcmlhYmxlcy5cclxuICovXHJcblxyXG4kd2hpdGU6ICAgICAgICNmZmZmZmYgIWRlZmF1bHQ7XHJcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcclxuJGdyYXktMjAwOiAgICAjZTllY2VmICFkZWZhdWx0O1xyXG4kZ3JheS0zMDA6ICAgICNkZWUyZTYgIWRlZmF1bHQ7IC8vIFN0cm9rZVxyXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XHJcbiRncmF5LTUwMDogICAgIzhmOTU5ZSAhZGVmYXVsdDsgLy8gU3Ryb2tlIG9uIGlucHV0c1xyXG4kZ3JheS02MDA6ICAgICM2YTczN2IgIWRlZmF1bHQ7XHJcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcclxuJGdyYXktODAwOiAgICAjMzQzYTQwICFkZWZhdWx0O1xyXG4kZ3JheS05MDA6ICAgICMxZDIxMjUgIWRlZmF1bHQ7IC8vIENvcHkgdGV4dFxyXG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXHJcblxyXG4kYmx1ZTogICAgICAgICMwZjZjYmYgIWRlZmF1bHQ7XHJcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXHJcbiRncmVlbjogICAgICAgIzM1N2EzMiAhZGVmYXVsdDtcclxuJHJlZDogICAgICAgICAjY2EzMTIwICFkZWZhdWx0O1xyXG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XHJcblxyXG4kYnJhbmQtY29sb3I6ICNmZjc1MTggIWRlZmF1bHQ7XHJcblxyXG4kdGV4dC1jb2xvcjogICAgICAgICAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XHJcbiR0ZXh0LWNvbG9yLXJnYjogICAgICAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yKSAhZGVmYXVsdDtcclxuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xyXG4kdGV4dC1jb2xvci1kYXJrLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcclxuXHJcbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XHJcbiRiYWNrZ3JvdW5kLWNvbG9yLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvcikgIWRlZmF1bHQ7XHJcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcms6ICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7IC8vICMxYTFhMWFcclxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xyXG5cclxuJGlvbi1pdGVtLWJhY2tncm91bmQ6ICAgICAgJHdoaXRlICFkZWZhdWx0O1xyXG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XHJcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcms6ICRncmF5LTkwMCAhZGVmYXVsdDtcclxuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmspICFkZWZhdWx0O1xyXG5cclxuJHByaW1hcnk6ICAgICRicmFuZC1jb2xvciAhZGVmYXVsdDtcclxuJHNlY29uZGFyeTogICRncmF5LTMwMCAhZGVmYXVsdDtcclxuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XHJcbiR3YXJuaW5nOiAgICAkeWVsbG93ICFkZWZhdWx0O1xyXG4kc3VjY2VzczogICAgJGdyZWVuICFkZWZhdWx0O1xyXG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XHJcbiRsaWdodDogICAgICAkZ3JheS0xMDAgIWRlZmF1bHQ7XHJcbiRtZWRpdW06ICAgICAkZ3JheS03MDAgIWRlZmF1bHQ7XHJcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XHJcblxyXG4kY29sb3JzOiAgKFxyXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxyXG4gICAgc2Vjb25kYXJ5OiAobGlnaHQ6ICRzZWNvbmRhcnksIGRhcms6ICRncmF5LTcwMCksXHJcbiAgICBzdWNjZXNzOiAobGlnaHQ6ICRzdWNjZXNzKSxcclxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxyXG4gICAgZGFuZ2VyOiAgKGxpZ2h0OiAkZGFuZ2VyKSxcclxuICAgIGluZm86IChsaWdodDogJGluZm8pLFxyXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXHJcbiAgICBtZWRpdW06IChsaWdodDogJG1lZGl1bSwgZGFyazogJGdyYXktMjAwKSxcclxuICAgIGRhcms6IChsaWdodDogJGRhcmssIGRhcms6ICRsaWdodCksXHJcbikgIWRlZmF1bHQ7XHJcblxyXG4vKipcclxuICogTGF5b3V0IEJyZWFrcG9pbnRzXHJcbiAqXHJcbiAqIGh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvbGF5b3V0L2dyaWQjZGVmYXVsdC1icmVha3BvaW50c1xyXG4gKi9cclxuXHJcbi8vIFRoZSBtaW5pbXVtIGRpbWVuc2lvbnMgYXQgd2hpY2ggeW91ciBsYXlvdXQgd2lsbCBjaGFuZ2UsXHJcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xyXG4kc2NyZWVuLWJyZWFrcG9pbnRzOiAoXHJcbiAgICB4czogMCxcclxuICAgIHNtOiA1NzZweCxcclxuICAgIG1kOiA3NjhweCxcclxuICAgIGxnOiA5OTJweCxcclxuICAgIHRhYmxldDogOTkycHgsXHJcbiAgICB4bDogMTIwMHB4XHJcbikgIWRlZmF1bHQ7XHJcblxyXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcclxuJGNvcmUtZGQtcXVlc3Rpb24tY29sb3JzOiAjRkZGRkZGLCAjQjBDNERFLCAjRENEQ0RDLCAjRDhCRkQ4LCAjODdDRUZBLCAjREFBNTIwLCAjRkZENzAwLCAjRjBFNjhDICFkZWZhdWx0O1xyXG4kY29yZS10ZXh0LWhpZ2h0bGlnaHQtYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkYmx1ZSwgNDAlKSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWZpeGVkLXVybDogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWRhc2hib2FyZC1sb2dvOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtZm9ybWF0LXRleHQtbmV2ZXItc2hvcnRlbjogZmFsc2UgIWRlZmF1bHQ7XHJcblxyXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1zZWN0aW9uLXNlbGVjdG9yOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbiRjb3JlLWNvdXJzZS1oaWRlLXRodW1iLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcclxuJGNvcmUtY291cnNlLXRodW1iLW9uLWNhcmRzLWJhY2tncm91bmQ6IG51bGwgIWRlZmF1bHQ7XHJcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbG9naW4gcGFnZS5cclxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZS1kYXJrOiAkY29yZS1sb2dpbi1idXR0b24tb3V0bGluZSAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvcjogZmFsc2UgIWRlZmF1bHQ7XHJcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcclxuJGNvcmUtbG9naW4taGlkZS1mb3Jnb3QtcGFzc3dvcmQ6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1sb2dpbi1oaWRlLW5lZWQtaGVscDogZmFsc2UgIWRlZmF1bHQ7XHJcblxyXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIG1vcmUgcGFnZS4gKGRlcHJlY2F0ZWQgb24gNC4wKVxyXG4kY29yZS1tb3JlLWhpZGUtc2l0ZWluZm86IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWU6IGZhbHNlICFkZWZhdWx0O1xyXG4kY29yZS1tb3JlLWhpZGUtc2l0ZXVybDogZmFsc2UgIWRlZmF1bHQ7XHJcblxyXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHVzZXIgcGFnZS5cclxuJGNvcmUtdXNlci1oaWRlLXNpdGVpbmZvOiAkY29yZS1tb3JlLWhpZGUtc2l0ZWluZm8gIWRlZmF1bHQ7XHJcbiRjb3JlLXVzZXItaGlkZS1zaXRlbmFtZTogJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lICFkZWZhdWx0O1xyXG4kY29yZS11c2VyLWhpZGUtc2l0ZXVybDogJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmwgIWRlZmF1bHQ7XHJcblxyXG4vLyBBY3Rpdml0eSBpY29uIGJhY2tncm91bmQgY29sb3JzLlxyXG4kYWN0aXZpdHktaWNvbi1jb2xvcnM6IChcclxuICAgIGFkbWluaXN0cmF0aW9uOiAjNWQ2M2Y2LFxyXG4gICAgYXNzZXNzbWVudDogI2ViNjZhMixcclxuICAgIGNvbGxhYm9yYXRpb246ICNmNzYzNGQsXHJcbiAgICBjb21tdW5pY2F0aW9uOiAjMTFhNjc2LFxyXG4gICAgY29udGVudDogIzM5OWJlMixcclxuICAgIGludGVyZmFjZTogI2EzNzhmZlxyXG4pICFkZWZhdWx0O1xyXG5cclxuLy8gQ2FsZW5kYXIgZXZlbnQgY2F0ZWdvcnkgYmFja2dyb3VuZCBjb2xvcnMuXHJcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb2xvcnM6IChcclxuICAgIGNhdGVnb3J5OiAjOGUyNGFhLFxyXG4gICAgY291cnNlOiAkcmVkLFxyXG4gICAgZ3JvdXA6ICR5ZWxsb3csXHJcbiAgICB1c2VyOiAkYmx1ZSxcclxuICAgIHNpdGU6ICRncmVlblxyXG4pICFkZWZhdWx0O1xyXG4iLCJAaW1wb3J0IFwifnRoZW1lL2dsb2JhbHNcIjtcclxuXHJcbiRxdWl6LXRpbWVyLXdhcm4tY29sb3I6ICRyZWQgIWRlZmF1bHQ7XHJcbiRxdWl6LXRpbWVyLWl0ZXJhdGlvbnM6IDE1ICFkZWZhdWx0O1xyXG5cclxuOmhvc3Qge1xyXG4gICAgLmFkZG9uLW1vZF9xdWl6LXF1ZXN0aW9uLW5vdGUgcCB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMnB4O1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcclxuICAgIH1cclxuXHJcbiAgICBpb24tY29udGVudCBpb24tdG9vbGJhciB7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXN0cm9rZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29yZS10aW1lciAuY29yZS10aW1lciB7XHJcbiAgICAgICAgLy8gTWFrZSB0aGUgdGltZXIgZ28gcmVkIHdoZW4gaXQncyByZWFjaGluZyAwLlxyXG4gICAgICAgIEBmb3IgJGkgZnJvbSAwIHRocm91Z2ggJHF1aXotdGltZXItaXRlcmF0aW9ucyB7XHJcbiAgICAgICAgICAgICYuY29yZS10aW1lci10aW1lbGVmdC0jeyRpfSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKCRxdWl6LXRpbWVyLXdhcm4tY29sb3IsIDEgLSAoJGkgLyAkcXVpei10aW1lci1pdGVyYXRpb25zKSkgIWltcG9ydGFudDtcclxuXHJcbiAgICAgICAgICAgICAgICBAaWYgJGkgPD0gJHF1aXotdGltZXItaXRlcmF0aW9ucyAvIDIge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLCBzcGFuLCBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS13aGl0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ== */\";"],"sourceRoot":"webpack:///"}