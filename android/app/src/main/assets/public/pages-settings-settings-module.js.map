{"version":3,"sources":["./src/addons/messages/pages/settings/settings.html","./src/addons/notifications/pages/settings/settings.html","./src/addons/messages/pages/settings/settings.module.ts","./src/addons/messages/pages/settings/settings.page.ts","./src/addons/notifications/pages/settings/settings.module.ts","./src/addons/notifications/pages/settings/settings.scss","./src/addons/notifications/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"pages-settings-settings-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>{{ 'addon.messages.messages' | translate }}</h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!preferencesLoaded\\\" (ionRefresh)=\\\"refreshPreferences($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"preferencesLoaded\\\">\\r\\n        <!-- Contactable privacy. -->\\r\\n        <ion-card>\\r\\n            <ion-item *ngIf=\\\"!advancedContactable\\\">\\r\\n                <ion-label>{{ 'addon.messages.blocknoncontacts' | translate }}</ion-label>\\r\\n                <ion-toggle [(ngModel)]=\\\"contactablePrivacy\\\" (ngModelChange)=\\\"saveContactablePrivacy(contactablePrivacy)\\\">\\r\\n                </ion-toggle>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-list *ngIf=\\\"advancedContactable\\\" class=\\\"ion-text-wrap\\\">\\r\\n                <ion-radio-group [(ngModel)]=\\\"contactablePrivacy\\\" (ionChange)=\\\"saveContactablePrivacy(contactablePrivacy)\\\">\\r\\n                    <ion-item-divider>\\r\\n                        <ion-label>\\r\\n                            <h2>{{ 'addon.messages.contactableprivacy' | translate }}</h2>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n                    <ion-item>\\r\\n                        <ion-label>{{ 'addon.messages.contactableprivacy_onlycontacts' | translate }}</ion-label>\\r\\n                        <ion-radio slot=\\\"start\\\" [value]=\\\"onlyContactsValue\\\"></ion-radio>\\r\\n                    </ion-item>\\r\\n                    <ion-item>\\r\\n                        <ion-label>{{ 'addon.messages.contactableprivacy_coursemember' | translate }}</ion-label>\\r\\n                        <ion-radio slot=\\\"start\\\" [value]=\\\"courseMemberValue\\\"></ion-radio>\\r\\n                    </ion-item>\\r\\n                    <ion-item *ngIf=\\\"allowSiteMessaging\\\">\\r\\n                        <ion-label>{{ 'addon.messages.contactableprivacy_site' | translate }}</ion-label>\\r\\n                        <ion-radio slot=\\\"start\\\" [value]=\\\"siteValue\\\"></ion-radio>\\r\\n                    </ion-item>\\r\\n                </ion-radio-group>\\r\\n            </ion-list>\\r\\n        </ion-card>\\r\\n\\r\\n        <!-- Notifications. -->\\r\\n        <ng-container *ngIf=\\\"preferences\\\">\\r\\n            <ng-container *ngIf=\\\"!groupMessagingEnabled\\\">\\r\\n                <ng-container *ngTemplateOutlet=\\\"legacySettings; context: {preferences: preferences}\\\"></ng-container>\\r\\n            </ng-container>\\r\\n            <ng-container *ngIf=\\\"groupMessagingEnabled\\\">\\r\\n                <ng-container *ngTemplateOutlet=\\\"settings; context: {preferences: preferences}\\\"></ng-container>\\r\\n            </ng-container>\\r\\n        </ng-container>\\r\\n\\r\\n        <!-- General settings. -->\\r\\n        <ion-card>\\r\\n            <ion-list class=\\\"ion-text-wrap\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'core.settings.general' | translate }}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <p class=\\\"item-heading\\\">{{ 'addon.messages.useentertosend' | translate }}</p>\\r\\n                    </ion-label>\\r\\n                    <ion-toggle [(ngModel)]=\\\"sendOnEnter\\\" (ngModelChange)=\\\"sendOnEnterChanged()\\\" slot=\\\"end\\\"></ion-toggle>\\r\\n                </ion-item>\\r\\n            </ion-list>\\r\\n        </ion-card>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\\r\\n<!-- Only 3.5 version -->\\r\\n<ng-template #legacySettings let-preferences=\\\"preferences\\\">\\r\\n    <ng-container *ngFor=\\\"let component of preferences.components\\\">\\r\\n        <ion-card *ngFor=\\\"let notification of component.notifications\\\">\\r\\n            <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>\\r\\n                        <h2>{{ notification.displayname }}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item>\\r\\n            </ion-card-header>\\r\\n            <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n                <ng-container *ngFor=\\\"let processor of notification.processors\\\">\\r\\n                    <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>\\r\\n                            <p class=\\\"item-heading\\\">{{ processor.displayname }}</p>\\r\\n                        </ion-label>\\r\\n                    </ion-item-divider>\\r\\n                    <!-- If notifications not disabled, show toggles.\\r\\n                        If notifications are disabled, show \\\"Disabled\\\" instead of toggle. -->\\r\\n                    <ion-item *ngFor=\\\"let state of ['loggedin', 'loggedoff']\\\" class=\\\"ion-text-wrap\\\">\\r\\n                        <ion-label>{{ 'core.settings.' + state | translate }}</ion-label>\\r\\n                        <ng-container *ngIf=\\\"!preferences.disableall\\\">\\r\\n                            <!-- If notifications enabled, show toggle. -->\\r\\n                            <core-button-with-spinner *ngIf=\\\"!processor.locked\\\" [loading]=\\\"notification['updating'+state]\\\">\\r\\n                                <ion-toggle [(ngModel)]=\\\"processor[state].checked\\\"\\r\\n                                    (ngModelChange)=\\\"changePreferenceLegacy(notification, processor, state)\\\">\\r\\n                                </ion-toggle>\\r\\n                            </core-button-with-spinner>\\r\\n                            <span *ngIf=\\\"processor.locked && processor[state].checked\\\" class=\\\"text-gray\\\">\\r\\n                                {{'core.settings.forced' | translate }}\\r\\n                            </span>\\r\\n                            <span *ngIf=\\\"processor.locked && !processor[state].checked\\\" class=\\\"text-gray\\\">\\r\\n                                {{'core.settings.disallowed' | translate }}\\r\\n                            </span>\\r\\n                        </ng-container>\\r\\n                        <span *ngIf=\\\"preferences.disableall\\\">{{ 'core.settings.disabled' | translate }}</span>\\r\\n                    </ion-item>\\r\\n                </ng-container>\\r\\n            </ion-card-content>\\r\\n        </ion-card>\\r\\n    </ng-container>\\r\\n</ng-template>\\r\\n\\r\\n\\r\\n<ng-template #settings let-preferences=\\\"preferences\\\">\\r\\n    <ng-container *ngFor=\\\"let component of preferences.components\\\">\\r\\n        <ion-card *ngFor=\\\"let notification of component.notifications\\\">\\r\\n            <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <h2>{{ 'addon.notifications.notificationpreferences' | translate }}</h2>\\r\\n                </ion-label>\\r\\n            </ion-item-divider>\\r\\n            <ng-container *ngFor=\\\"let processor of notification.processors\\\">\\r\\n                <!-- If group messaging is enabled, display a simplified view. -->\\r\\n                <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-label>{{ processor.displayname }}</ion-label>\\r\\n                    <ng-container *ngIf=\\\"!preferences.disableall\\\">\\r\\n                        <!-- If notifications enabled, show toggle. -->\\r\\n                        <core-button-with-spinner *ngIf=\\\"!processor.locked\\\" [loading]=\\\"notification.updating\\\">\\r\\n                            <ion-toggle [(ngModel)]=\\\"processor.enabled\\\" (ngModelChange)=\\\"changePreference(notification, processor)\\\">\\r\\n                            </ion-toggle>\\r\\n                        </core-button-with-spinner>\\r\\n                        <span class=\\\"text-gray\\\" *ngIf=\\\"processor.locked\\\">\\r\\n                            {{ processor.lockedmessage }}\\r\\n                        </span>\\r\\n                    </ng-container>\\r\\n                    <span *ngIf=\\\"preferences.disableall\\\" class=\\\"text-gray\\\">{{ 'core.settings.disabled' | translate }}</span>\\r\\n                </ion-item>\\r\\n            </ng-container>\\r\\n        </ion-card>\\r\\n    </ng-container>\\r\\n</ng-template>\\r\\n\";","export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>{{ 'addon.notifications.notifications' | translate }}</h1>\\r\\n        </ion-title>\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<core-navbar-buttons slot=\\\"end\\\">\\r\\n    <core-context-menu>\\r\\n        <core-context-menu-item *ngFor=\\\"let handler of processorHandlers\\\" [priority]=\\\"handler.priority\\\"\\r\\n            [content]=\\\"handler.label | translate\\\" (action)=\\\"openExtraPreferences(handler)\\\" [iconAction]=\\\"handler.icon\\\">\\r\\n        </core-context-menu-item>\\r\\n    </core-context-menu>\\r\\n</core-navbar-buttons>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!preferencesLoaded\\\" (ionRefresh)=\\\"refreshPreferences($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"preferencesLoaded\\\">\\r\\n        <ion-card>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"preferences\\\">\\r\\n                <ion-label>{{ 'addon.notifications.notifications' | translate }}</ion-label>\\r\\n                <ion-toggle [(ngModel)]=\\\"preferences.enableall\\\" (ngModelChange)=\\\"enableAll(preferences.enableall)\\\"></ion-toggle>\\r\\n            </ion-item>\\r\\n            <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"canChangeSound\\\">\\r\\n                <ion-label>{{ 'addon.notifications.playsound' | translate }}</ion-label>\\r\\n                <ion-toggle [(ngModel)]=\\\"notificationSound\\\" (ngModelChange)=\\\"changeNotificationSound(notificationSound)\\\">\\r\\n                </ion-toggle>\\r\\n            </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n        <!-- Show processor selector. -->\\r\\n        <core-combobox *ngIf=\\\"preferences && preferences.processors && preferences.processors.length > 0\\\" [selection]=\\\"currentProcessorName\\\"\\r\\n            (onChange)=\\\"changeProcessor($event)\\\">\\r\\n            <ion-select-option class=\\\"ion-text-wrap\\\" *ngFor=\\\"let processor of preferences.processors\\\" [value]=\\\"processor.name\\\">\\r\\n                {{ processor.displayname }}\\r\\n            </ion-select-option>\\r\\n        </core-combobox>\\r\\n\\r\\n        <ng-container *ngIf=\\\"loggedInOffLegacyMode\\\">\\r\\n            <ng-container *ngTemplateOutlet=\\\"legacySettings; context: {preferences: preferences}\\\"></ng-container>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container *ngIf=\\\"!loggedInOffLegacyMode\\\">\\r\\n            <ng-container *ngTemplateOutlet=\\\"settings; context: {preferences: preferences}\\\"></ng-container>\\r\\n        </ng-container>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<!-- 3.11 or downwards version -->\\r\\n<ng-template #legacySettings let-preferences=\\\"preferences\\\">\\r\\n    <ion-card *ngFor=\\\"let component of components\\\" class=\\\"ion-margin-top\\\">\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n            <ion-item class=\\\"ion-text-wrap divider\\\">\\r\\n                <ion-label class=\\\"ion-text-wrap\\\">\\r\\n                    <ion-row class=\\\"ion-no-padding\\\">\\r\\n                        <ion-col class=\\\"ion-no-padding\\\">\\r\\n                            <p class=\\\"item-heading\\\">{{ component.displayname }}</p>\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"2\\\" class=\\\"ion-text-center ion-no-padding ion-hide-md-down\\\">\\r\\n                            <p>{{ 'core.settings.loggedin' | translate }}</p>\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"2\\\" class=\\\"ion-text-center ion-no-padding ion-hide-md-down\\\">\\r\\n                            <p>{{ 'core.settings.loggedoff' | translate }}</p>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n        </ion-card-header>\\r\\n        <ng-container *ngFor=\\\"let notification of component.notifications\\\">\\r\\n            <!-- Tablet view -->\\r\\n            <ion-item class=\\\"ion-text-wrap ion-hide-md-down addon-notifications-table-content only-links\\\">\\r\\n                <ion-label>\\r\\n                    <ion-row class=\\\"ion-no-padding ion-align-items-center\\\">\\r\\n                        <ion-col class=\\\"ion-margin-horizontal ion-no-padding\\\">\\r\\n                            <p class=\\\"item-heading\\\">{{ notification.displayname }}</p>\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"2\\\" class=\\\"ion-text-center ion-no-padding\\\" *ngFor=\\\"let state of ['loggedin', 'loggedoff']\\\">\\r\\n                            <ng-container *ngIf=\\\"preferences!.enableall && notification.processorsByName[currentProcessorName][state]\\\">\\r\\n                                <!-- If notifications enabled, show toggle. -->\\r\\n                                <core-button-with-spinner *ngIf=\\\"!notification.processorsByName[currentProcessorName].locked\\\"\\r\\n                                    [loading]=\\\"notification.processorsByName[currentProcessorName][state].updating\\\">\\r\\n                                    <ion-toggle [(ngModel)]=\\\"notification.processorsByName[currentProcessorName][state].checked\\\"\\r\\n                                        (ngModelChange)=\\\"changePreferenceLegacy(notification, state)\\\">\\r\\n                                    </ion-toggle>\\r\\n                                </core-button-with-spinner>\\r\\n                                <span class=\\\"text-gray\\\" *ngIf=\\\"notification.processorsByName[currentProcessorName].locked &&\\r\\n                                    notification.processorsByName[currentProcessorName][state].checked\\\">\\r\\n                                    {{'core.settings.forced' | translate }}\\r\\n                                </span>\\r\\n                                <span class=\\\"text-gray\\\" *ngIf=\\\"notification.processorsByName[currentProcessorName].locked &&\\r\\n                                    !notification.processorsByName[currentProcessorName][state].checked\\\">\\r\\n                                    {{'core.settings.disallowed' | translate }}\\r\\n                                </span>\\r\\n                            </ng-container>\\r\\n                            <!-- If notifications are disabled, show \\\"Disabled\\\" instead of toggle. -->\\r\\n                            <span *ngIf=\\\"!preferences!.enableall\\\" class=\\\"text-gray\\\">{{ 'core.settings.disabled' | translate }}</span>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n\\r\\n            <!-- Phone view -->\\r\\n            <ion-item class=\\\"ion-text-wrap ion-no-margin ion-hide-md-up\\\">\\r\\n                <p class=\\\"item-heading\\\">{{ notification.displayname }}</p>\\r\\n            </ion-item>\\r\\n            <!-- If notifications enabled, show toggles. If disabled, show \\\"Disabled\\\" instead of toggle. -->\\r\\n            <ion-item *ngFor=\\\"let state of ['loggedin', 'loggedoff']\\\" class=\\\"ion-text-wrap ion-hide-md-up\\\">\\r\\n                <ion-label class=\\\"ion-margin-horizontal\\\">\\r\\n                    <p>{{ 'core.settings.' + state | translate }}</p>\\r\\n                </ion-label>\\r\\n                <div slot=\\\"end\\\" *ngIf=\\\"preferences!.enableall && notification.processorsByName[currentProcessorName][state]\\\">\\r\\n                    <core-button-with-spinner *ngIf=\\\"!notification.processorsByName[currentProcessorName].locked\\\"\\r\\n                        [loading]=\\\"notification.processorsByName[currentProcessorName][state].updating\\\">\\r\\n                        <ion-toggle *ngIf=\\\"!notification.processorsByName[currentProcessorName].locked\\\"\\r\\n                            [(ngModel)]=\\\"notification.processorsByName[currentProcessorName][state].checked\\\"\\r\\n                            (ngModelChange)=\\\"changePreferenceLegacy(notification, state)\\\">\\r\\n                        </ion-toggle>\\r\\n                    </core-button-with-spinner>\\r\\n                    <span class=\\\"text-gray\\\" *ngIf=\\\"notification.processorsByName[currentProcessorName].locked &&\\r\\n                        notification.processorsByName[currentProcessorName][state].checked\\\">\\r\\n                        {{'core.settings.forced' | translate }}\\r\\n                    </span>\\r\\n                    <span class=\\\"text-gray\\\" *ngIf=\\\"notification.processorsByName[currentProcessorName].locked &&\\r\\n                        !notification.processorsByName[currentProcessorName][state].checked\\\">\\r\\n                        {{'core.settings.disallowed' | translate }}\\r\\n                    </span>\\r\\n                </div>\\r\\n                <span class=\\\"text-gray\\\" slot=\\\"end\\\" *ngIf=\\\"!preferences!.enableall\\\">{{ 'core.settings.disabled' | translate }}</span>\\r\\n            </ion-item>\\r\\n        </ng-container>\\r\\n    </ion-card>\\r\\n</ng-template>\\r\\n\\r\\n<!-- 4.0 or downwards version -->\\r\\n<ng-template #settings let-preferences=\\\"preferences\\\">\\r\\n    <ion-card *ngFor=\\\"let component of components\\\" class=\\\"ion-margin-top\\\">\\r\\n        <ion-item-divider class=\\\"ion-text-wrap\\\">\\r\\n            <ion-label>\\r\\n                <p class=\\\"item-heading\\\">{{ component.displayname }}</p>\\r\\n            </ion-label>\\r\\n        </ion-item-divider>\\r\\n        <ng-container *ngFor=\\\"let notification of component.notifications\\\">\\r\\n            <!-- If notifications enabled, show toggles. If disabled, show \\\"Disabled\\\" instead of toggle. -->\\r\\n            <ion-item class=\\\"ion-text-wrap\\\">\\r\\n                <ion-label>\\r\\n                    <p>{{ notification.displayname }}</p>\\r\\n                </ion-label>\\r\\n\\r\\n                <div slot=\\\"end\\\" *ngIf=\\\"preferences!.enableall\\\">\\r\\n                    <core-button-with-spinner *ngIf=\\\"!notification.processorsByName[currentProcessorName].locked\\\"\\r\\n                        [loading]=\\\"notification.processorsByName[currentProcessorName].updating\\\">\\r\\n                        <ion-toggle *ngIf=\\\"!notification.processorsByName[currentProcessorName].locked\\\"\\r\\n                            [(ngModel)]=\\\"notification.processorsByName[currentProcessorName].enabled\\\"\\r\\n                            (ngModelChange)=\\\"changePreference(notification)\\\">\\r\\n                        </ion-toggle>\\r\\n                    </core-button-with-spinner>\\r\\n                    <span class=\\\"text-gray\\\" *ngIf=\\\" notification.processorsByName[currentProcessorName].locked &&\\r\\n                        notification.processorsByName[currentProcessorName].enabled\\\">\\r\\n                        {{'core.settings.forced' | translate }}\\r\\n                    </span>\\r\\n                    <span class=\\\"text-gray\\\" *ngIf=\\\" notification.processorsByName[currentProcessorName].locked &&\\r\\n                        !notification.processorsByName[currentProcessorName].enabled\\\">\\r\\n                        {{'core.settings.disallowed' | translate }}\\r\\n                    </span>\\r\\n                </div>\\r\\n                <span class=\\\"text-gray\\\" slot=\\\"end\\\" *ngIf=\\\"!preferences!.enableall\\\">{{ 'core.settings.disabled' | translate }}</span>\\r\\n            </ion-item>\\r\\n        </ng-container>\\r\\n    </ion-card>\\r\\n\\r\\n</ng-template>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\n\r\nimport { AddonMessagesSettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonMessagesSettingsPage,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n    ],\r\n    declarations: [\r\n        AddonMessagesSettingsPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class AddonMessagesSettingsPageModule {}\r\n","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport {\n    AddonMessagesProvider, AddonMessagesMessagePreferences,\n    AddonMessagesMessagePreferencesNotification,\n    AddonMessagesMessagePreferencesNotificationProcessor,\n    AddonMessages,\n} from '../../services/messages';\nimport { CoreUser } from '@features/user/services/user';\nimport { CoreApp } from '@services/app';\nimport { CoreConfig } from '@services/config';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreConstants } from '@/core/constants';\nimport { IonRefresher } from '@ionic/angular';\nimport { AddonNotificationsPreferencesNotificationProcessorState } from '@addons/notifications/services/notifications';\n\n/**\n * Page that displays the messages settings page.\n */\n@Component({\n    selector: 'page-addon-messages-settings',\n    templateUrl: 'settings.html',\n})\nexport class AddonMessagesSettingsPage implements OnInit, OnDestroy {\n\n    protected updateTimeout?: number;\n\n    preferences?: AddonMessagesMessagePreferences;\n    preferencesLoaded = false;\n    contactablePrivacy?: number | boolean;\n    advancedContactable = false; // Whether the site supports \"advanced\" contactable privacy.\n    allowSiteMessaging = false;\n    onlyContactsValue = AddonMessagesProvider.MESSAGE_PRIVACY_ONLYCONTACTS;\n    courseMemberValue = AddonMessagesProvider.MESSAGE_PRIVACY_COURSEMEMBER;\n    siteValue = AddonMessagesProvider.MESSAGE_PRIVACY_SITE;\n    groupMessagingEnabled = false;\n    sendOnEnter = false;\n\n    protected loggedInOffLegacyMode = false;\n    protected previousContactableValue?: number | boolean;\n\n    constructor() {\n\n        const currentSite = CoreSites.getRequiredCurrentSite();\n        this.advancedContactable = !!currentSite.isVersionGreaterEqualThan('3.6');\n        this.allowSiteMessaging = !!currentSite.canUseAdvancedFeature('messagingallusers');\n        this.groupMessagingEnabled = AddonMessages.isGroupMessagingEnabled();\n        this.loggedInOffLegacyMode = !currentSite.isVersionGreaterEqualThan('4.0');\n\n        this.asyncInit();\n    }\n\n    protected async asyncInit(): Promise<void> {\n        this.sendOnEnter = !!(await CoreConfig.get(CoreConstants.SETTINGS_SEND_ON_ENTER, !CoreApp.isMobile()));\n    }\n\n    /**\n     * Runs when the page has loaded. This event only happens once per page being created.\n     * If a page leaves but is cached, then this event will not fire again on a subsequent viewing.\n     * Setup code for the page.\n     */\n    ngOnInit(): void {\n        this.fetchPreferences();\n    }\n\n    /**\n     * Fetches preference data.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fetchPreferences(): Promise<void> {\n        try {\n            const preferences = await AddonMessages.getMessagePreferences();\n            if (this.groupMessagingEnabled) {\n                // Simplify the preferences.\n                for (const component of preferences.components) {\n                    // Only display get the notification preferences.\n                    component.notifications = component.notifications.filter((notification) =>\n                        notification.preferencekey == AddonMessagesProvider.NOTIFICATION_PREFERENCES_KEY);\n\n                    if (this.loggedInOffLegacyMode) {\n                        // Load enabled from loggedin / loggedoff values.\n                        component.notifications.forEach((notification) => {\n                            notification.processors.forEach(\n                                (processor) => {\n                                    processor.enabled = processor.loggedin.checked || processor.loggedoff.checked;\n                                },\n                            );\n                        });\n                    }\n                }\n            }\n\n            this.preferences = preferences;\n            this.contactablePrivacy = preferences.blocknoncontacts;\n            this.previousContactableValue = this.contactablePrivacy;\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n        } finally {\n            this.preferencesLoaded = true;\n        }\n    }\n\n    /**\n     * Update preferences. The purpose is to store the updated data, it won't be reflected in the view.\n     */\n    protected updatePreferences(): void {\n        AddonMessages.invalidateMessagePreferences().finally(() => {\n            this.fetchPreferences();\n        });\n    }\n\n    /**\n     * Update preferences after a certain time. The purpose is to store the updated data, it won't be reflected in the view.\n     */\n    protected updatePreferencesAfterDelay(): void {\n        // Cancel pending updates.\n        clearTimeout(this.updateTimeout);\n\n        this.updateTimeout = window.setTimeout(() => {\n            this.updateTimeout = undefined;\n            this.updatePreferences();\n        }, 5000);\n    }\n\n    /**\n     * Save the contactable privacy setting..\n     *\n     * @param value The value to set.\n     */\n    async saveContactablePrivacy(value?: number | boolean): Promise<void> {\n        if (this.contactablePrivacy == this.previousContactableValue) {\n            // Value hasn't changed from previous, it probably means that we just fetched the value from the server.\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        if (!this.advancedContactable) {\n            // Convert from boolean to number.\n            value = value ? 1 : 0;\n        }\n\n        try {\n            await CoreUser.updateUserPreference('message_blocknoncontacts', String(value));\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n            this.previousContactableValue = this.contactablePrivacy;\n        } catch (message) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(message);\n            this.contactablePrivacy = this.previousContactableValue;\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Change the value of a certain preference. Versions 3.6 onwards.\n     *\n     * @param notification Notification object.\n     * @param processor Notification processor.\n     */\n    async changePreference(\n        notification: AddonMessagesMessagePreferencesNotificationFormatted,\n        processor: AddonMessagesMessagePreferencesNotificationProcessor,\n    ): Promise<void> {\n        // Update both states at the same time.\n        let value = notification.processors\n            .filter((processor) => processor.enabled)\n            .map((processor) => processor.name)\n            .join(',');\n\n        if (value == '') {\n            value = 'none';\n        }\n\n        notification.updating = true;\n\n        const promises: Promise<void>[] = [];\n        if (this.loggedInOffLegacyMode) {\n            promises.push(CoreUser.updateUserPreference(notification.preferencekey + '_loggedin', value));\n            promises.push(CoreUser.updateUserPreference(notification.preferencekey + '_loggedoff', value));\n        }  else {\n            promises.push(CoreUser.updateUserPreference(notification.preferencekey + '_enabled', value));\n        }\n\n        try {\n            await Promise.all(promises);\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n        } catch (error) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(error);\n            processor.enabled = !processor.enabled;\n        } finally {\n            notification.updating = false;\n        }\n    }\n\n    /**\n     * Change the value of a certain preference. Only on version 3.5.\n     *\n     * @param notification Notification object.\n     * @param processor Notification processor.\n     * @param state State name, ['loggedin', 'loggedoff'].\n     */\n    async changePreferenceLegacy(\n        notification: AddonMessagesMessagePreferencesNotificationFormatted,\n        processor: AddonMessagesMessagePreferencesNotificationProcessor,\n        state: 'loggedin' | 'loggedoff',\n    ): Promise<void> {\n        // Update only the specified state.\n        const processorState: AddonNotificationsPreferencesNotificationProcessorState = processor[state];\n        const preferenceName = notification.preferencekey + '_' + processorState.name;\n\n        const value = notification.processors\n            .filter((processor) => processor[state].checked)\n            .map((processor) => processor.name)\n            .join(',');\n\n        notification['updating'+state] = true;\n        try {\n            await CoreUser.updateUserPreference(preferenceName, value);\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n        } catch (error) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(error);\n            processorState.checked = !processorState.checked;\n        } finally {\n            notification['updating'+state] = false;\n        }\n    }\n\n    /**\n     * Refresh the list of preferences.\n     *\n     * @param refresher Refresher.\n     */\n    refreshPreferences(refresher?: IonRefresher): void {\n        AddonMessages.invalidateMessagePreferences().finally(() => {\n            this.fetchPreferences().finally(() => {\n                refresher?.complete();\n            });\n        });\n    }\n\n    sendOnEnterChanged(): void {\n        // Save the value.\n        CoreConfig.set(CoreConstants.SETTINGS_SEND_ON_ENTER, this.sendOnEnter ? 1 : 0);\n\n        // Notify the app.\n        CoreEvents.trigger(\n            CoreEvents.SEND_ON_ENTER_CHANGED,\n            { sendOnEnter: !!this.sendOnEnter },\n            CoreSites.getCurrentSiteId(),\n        );\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        // If there is a pending action to update preferences, execute it right now.\n        if (this.updateTimeout) {\n            clearTimeout(this.updateTimeout);\n            this.updatePreferences();\n        }\n    }\n\n}\n\n/**\n * Message preferences notification with some caclulated data.\n */\ntype AddonMessagesMessagePreferencesNotificationFormatted = AddonMessagesMessagePreferencesNotification & {\n    updating?: boolean; // Calculated in the app. Whether the notification is being updated.\n    updatingloggedin?: boolean; // Calculated in the app. Whether the notification is being updated.\n    updatingloggedoff?: boolean; // Calculated in the app. Whether the notification is being updated.\n};\n","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { AddonNotificationsSettingsPage } from './settings';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonNotificationsSettingsPage,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n    ],\r\n    declarations: [\r\n        AddonNotificationsSettingsPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class AddonNotificationsSettingsPageModule {}\r\n","export default \".addon-notifications-table-content ion-row {\\n  min-height: 35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvbm90aWZpY2F0aW9ucy9wYWdlcy9zZXR0aW5ncy9zZXR0aW5ncy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7QUFDSiIsImZpbGUiOiJzcmMvYWRkb25zL25vdGlmaWNhdGlvbnMvcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3Muc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hZGRvbi1ub3RpZmljYXRpb25zLXRhYmxlLWNvbnRlbnQgaW9uLXJvdyB7XHJcbiAgICBtaW4taGVpZ2h0OiAzNXB4O1xyXG59XHJcbiJdfQ== */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonRefresher } from '@ionic/angular';\n\nimport { CoreConfig } from '@services/config';\nimport { CoreLocalNotifications } from '@services/local-notifications';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreUser } from '@features/user/services/user';\nimport { AddonMessageOutputDelegate, AddonMessageOutputHandlerData } from '@addons/messageoutput/services/messageoutput-delegate';\nimport { CoreConstants } from '@/core/constants';\nimport { CoreError } from '@classes/errors/error';\nimport { CoreEvents } from '@singletons/events';\nimport {\n    AddonNotifications,\n    AddonNotificationsPreferencesNotificationProcessorState,\n} from '../../services/notifications';\nimport {\n    AddonNotificationsHelper,\n    AddonNotificationsPreferencesComponentFormatted,\n    AddonNotificationsPreferencesFormatted,\n    AddonNotificationsPreferencesNotificationFormatted,\n    AddonNotificationsPreferencesProcessorFormatted,\n} from '@addons/notifications/services/notifications-helper';\nimport { CoreNavigator } from '@services/navigator';\n\n/**\n * Page that displays notifications settings.\n */\n@Component({\n    selector: 'page-addon-notifications-settings',\n    templateUrl: 'settings.html',\n    styleUrls: ['settings.scss'],\n})\nexport class AddonNotificationsSettingsPage implements OnInit, OnDestroy {\n\n    preferences?: AddonNotificationsPreferencesFormatted;\n    components?: AddonNotificationsPreferencesComponentFormatted[];\n    currentProcessorName = 'airnotifier';\n    preferencesLoaded = false;\n    notificationSound = false;\n    canChangeSound: boolean;\n    processorHandlers: AddonMessageOutputHandlerData[] = [];\n    loggedInOffLegacyMode = false;\n\n    protected updateTimeout?: number;\n\n    constructor() {\n        this.canChangeSound = CoreLocalNotifications.canDisableSound();\n\n        const currentSite = CoreSites.getRequiredCurrentSite();\n        this.loggedInOffLegacyMode = !currentSite.isVersionGreaterEqualThan('4.0');\n    }\n\n    /**\n     * Component being initialized.\n     */\n    async ngOnInit(): Promise<void> {\n        if (this.canChangeSound) {\n            this.notificationSound = await CoreConfig.get<boolean>(CoreConstants.SETTINGS_NOTIFICATION_SOUND, true);\n        }\n\n        this.fetchPreferences();\n    }\n\n    /**\n     * Fetches preferences data.\n     *\n     * @return Resolved when done.\n     */\n    protected async fetchPreferences(): Promise<void> {\n        try {\n            const preferences = await AddonNotifications.getNotificationPreferences();\n\n            // Initialize current processor. Load \"Mobile\" (airnotifier) if available.\n            let currentProcessor = preferences.processors.find((processor) => processor.name == this.currentProcessorName);\n            if (!currentProcessor) {\n                currentProcessor = preferences.processors[0];\n            }\n\n            if (!currentProcessor) {\n                // Shouldn't happen.\n                throw new CoreError('No processor found');\n            }\n\n            preferences.enableall = !preferences.disableall;\n            this.preferences = AddonNotificationsHelper.formatPreferences(preferences);\n            this.loadProcessor(currentProcessor);\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n        } finally {\n            this.preferencesLoaded = true;\n        }\n    }\n\n    /**\n     * Load a processor.\n     *\n     * @param processor Processor object.\n     */\n    protected loadProcessor(processor: AddonNotificationsPreferencesProcessorFormatted): void {\n        if (!processor) {\n            return;\n        }\n\n        this.currentProcessorName = processor.name;\n        this.processorHandlers = [];\n        this.components = AddonNotificationsHelper.getProcessorComponents(\n            processor.name,\n            this.preferences?.components || [],\n        );\n\n        if (!processor.hassettings || !processor.supported) {\n            return;\n        }\n\n        const handlerData = AddonMessageOutputDelegate.getDisplayData(processor);\n        if (handlerData) {\n            this.processorHandlers.push(handlerData);\n        }\n    }\n\n    /**\n     * Update preferences after a certain time. The purpose is to store the updated data, it won't be reflected in the view.\n     */\n    protected updatePreferencesAfterDelay(): void {\n        // Cancel pending updates.\n        clearTimeout(this.updateTimeout);\n\n        this.updateTimeout = window.setTimeout(() => {\n            this.updateTimeout = undefined;\n            this.updatePreferences();\n        }, 5000);\n    }\n\n    /**\n     * Update preferences. The purpose is to store the updated data, it won't be reflected in the view.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async updatePreferences(): Promise<void> {\n        await CoreUtils.ignoreErrors(AddonNotifications.invalidateNotificationPreferences());\n\n        await AddonNotifications.getNotificationPreferences();\n    }\n\n    /**\n     * The selected processor was changed.\n     *\n     * @param name Name of the selected processor.\n     */\n    changeProcessor(name: string): void {\n        const processor = this.preferences?.processors.find((processor) => processor.name == name);\n\n        if (processor) {\n            this.loadProcessor(processor);\n        }\n    }\n\n    /**\n     * Refresh the list of preferences.\n     *\n     * @param refresher Refresher.\n     */\n    async refreshPreferences(refresher?: IonRefresher): Promise<void> {\n        try {\n            await CoreUtils.ignoreErrors(AddonNotifications.invalidateNotificationPreferences());\n\n            await this.fetchPreferences();\n        } finally {\n            refresher?.complete();\n        }\n    }\n\n    /**\n     * Open extra preferences.\n     *\n     * @param handlerData\n     */\n    openExtraPreferences(handlerData: AddonMessageOutputHandlerData): void {\n        CoreNavigator.navigateToSitePath(handlerData.page, { params: handlerData.pageParams });\n    }\n\n    /**\n     * Change the value of a certain preference.\n     *\n     * @param notification Notification object.\n     * @param state State name, ['loggedin', 'loggedoff'].\n     * @return Promise resolved when done.\n     */\n    async changePreferenceLegacy(notification: AddonNotificationsPreferencesNotificationFormatted, state: string): Promise<void> {\n        const processor = notification.processorsByName?.[this.currentProcessorName];\n        if (!processor) {\n            return;\n        }\n\n        const processorState: ProcessorStateFormatted = processor[state];\n        const preferenceName = notification.preferencekey + '_' + processorState.name;\n\n        let value = notification.processors\n            .filter((processor) => processor[state].checked)\n            .map((processor) => processor.name)\n            .join(',');\n\n        if (value == '') {\n            value = 'none';\n        }\n\n        processorState.updating = true;\n\n        try {\n            await CoreUser.updateUserPreference(preferenceName, value);\n\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n        } catch (error) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(error);\n            processor[state].checked = !processor[state].checked;\n        } finally {\n            processorState.updating = false;\n        }\n    }\n\n    /**\n     * Change the value of a certain preference.\n     *\n     * @param notification Notification object.\n     * @return Promise resolved when done.\n     */\n    async changePreference(notification: AddonNotificationsPreferencesNotificationFormatted): Promise<void> {\n        const processor = notification.processorsByName?.[this.currentProcessorName];\n        if (!processor) {\n            return;\n        }\n\n        const preferenceName = notification.preferencekey + '_enabled';\n\n        let value = notification.processors\n            .filter((processor) => processor.enabled)\n            .map((processor) => processor.name)\n            .join(',');\n\n        if (value == '') {\n            value = 'none';\n        }\n\n        processor.updating = true;\n\n        try {\n            await CoreUser.updateUserPreference(preferenceName, value);\n\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n        } catch (error) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(error);\n            processor.enabled = !processor.enabled;\n        } finally {\n            processor.updating = false;\n        }\n    }\n\n    /**\n     * Enable all notifications changed.\n     *\n     * @param enable Whether to enable or disable.\n     * @return Promise resolved when done.\n     */\n    async enableAll(enable?: boolean): Promise<void> {\n        if (!this.preferences) {\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            CoreUser.updateUserPreferences([], !enable);\n\n            // Update the preferences since they were modified.\n            this.updatePreferencesAfterDelay();\n        } catch (error) {\n            // Show error and revert change.\n            CoreDomUtils.showErrorModal(error);\n            this.preferences.enableall = !this.preferences.enableall;\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Change the notification sound setting.\n     *\n     * @param enabled True to enable the notification sound, false to disable it.\n     */\n    async changeNotificationSound(enabled: boolean): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreConfig.set(CoreConstants.SETTINGS_NOTIFICATION_SOUND, enabled ? 1 : 0));\n\n        const siteId = CoreSites.getCurrentSiteId();\n        CoreEvents.trigger(CoreEvents.NOTIFICATION_SOUND_CHANGED, { enabled }, siteId);\n        CoreLocalNotifications.rescheduleAll();\n    }\n\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        // If there is a pending action to update preferences, execute it right now.\n        if (this.updateTimeout) {\n            clearTimeout(this.updateTimeout);\n            this.updatePreferences();\n        }\n    }\n\n}\n\n/**\n * State in notification processor in notification preferences component with some calculated data.\n *\n * @deprecated 4.0\n */\ntype ProcessorStateFormatted = AddonNotificationsPreferencesNotificationProcessorState & {\n    updating?: boolean; // Calculated in the app. Whether the state is being updated.\n};\n"],"sourceRoot":"webpack:///"}