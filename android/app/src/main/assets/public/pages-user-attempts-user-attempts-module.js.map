{"version":3,"sources":["./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.html","./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.module.ts","./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.scss","./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.ts"],"names":[],"mappings":"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","file":"pages-user-attempts-user-attempts-module.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button [text]=\\\"'core.back' | translate\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <h1>\\r\\n                <core-format-text *ngIf=\\\"h5pActivity\\\" [text]=\\\"h5pActivity.name\\\" contextLevel=\\\"module\\\"\\r\\n                    [contextInstanceId]=\\\"h5pActivity.coursemodule\\\" [courseId]=\\\"courseId\\\">\\r\\n                </core-format-text>\\r\\n            </h1>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" [disabled]=\\\"!loaded\\\" (ionRefresh)=\\\"doRefresh($event.target)\\\">\\r\\n        <ion-refresher-content pullingText=\\\"{{ 'core.pulltorefresh' | translate }}\\\"></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <core-loading [hideUntil]=\\\"loaded\\\">\\r\\n        <!-- User viewed. -->\\r\\n        <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user && !isCurrentUser\\\" core-user-link [userId]=\\\"user.id\\\" [courseId]=\\\"courseId\\\"\\r\\n            [attr.aria-label]=\\\"user.fullname\\\" button detail=\\\"true\\\">\\r\\n            <core-user-avatar [user]=\\\"user\\\" slot=\\\"start\\\" [courseId]=\\\"courseId\\\" [linkProfile]=\\\"false\\\"></core-user-avatar>\\r\\n            <ion-label>\\r\\n                <h2>{{ user.fullname }}</h2>\\r\\n            </ion-label>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"ion-text-wrap\\\" *ngIf=\\\"user && isCurrentUser\\\">\\r\\n            <core-user-avatar [user]=\\\"user\\\" slot=\\\"start\\\" [courseId]=\\\"courseId\\\"></core-user-avatar>\\r\\n            <ion-label>\\r\\n                <h2>{{ 'addon.mod_h5pactivity.myattempts' | translate }}</h2>\\r\\n            </ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-list *ngIf=\\\"attemptsData\\\">\\r\\n            <!-- Attempts used to calculate the score. -->\\r\\n            <ng-container *ngIf=\\\"attemptsData.scored\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ attemptsData.scored.title }}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ng-container *ngTemplateOutlet=\\\"attemptsTemplate; context: {attempts: attemptsData.scored.attempts}\\\">\\r\\n                </ng-container>\\r\\n            </ng-container>\\r\\n\\r\\n            <!-- All attempts. -->\\r\\n            <ng-container *ngIf=\\\"attemptsData.attempts && attemptsData.attempts.length\\\">\\r\\n                <ion-item-divider>\\r\\n                    <ion-label>\\r\\n                        <h2>{{ 'addon.mod_h5pactivity.all_attempts' | translate }}</h2>\\r\\n                    </ion-label>\\r\\n                </ion-item-divider>\\r\\n                <ng-container *ngTemplateOutlet=\\\"attemptsTemplate; context: {attempts: attemptsData.attempts}\\\"></ng-container>\\r\\n            </ng-container>\\r\\n        </ion-list>\\r\\n\\r\\n        <!-- No attempts. -->\\r\\n        <core-empty-box *ngIf=\\\"attemptsData && (!attemptsData.attempts || !attemptsData.attempts.length)\\\" icon=\\\"fas-chart-bar\\\"\\r\\n            [message]=\\\"'addon.mod_h5pactivity.attempts_none' | translate\\\">\\r\\n        </core-empty-box>\\r\\n    </core-loading>\\r\\n</ion-content>\\r\\n\\r\\n<!-- Template to render a list of conversations. -->\\r\\n<ng-template #attemptsTemplate let-attempts=\\\"attempts\\\">\\r\\n    <!-- \\\"Header\\\" of the table -->\\r\\n    <ion-item class=\\\"ion-text-wrap addon-mod_h5pactivity-table-header\\\" [detail]=\\\"false\\\">\\r\\n        <ion-label>\\r\\n            <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                <ion-col class=\\\"ion-text-center\\\">#</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center\\\" size=\\\"5\\\" size-md=\\\"2\\\">{{ 'core.date' | translate }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center\\\">{{ 'addon.mod_h5pactivity.score' | translate }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">{{ 'addon.mod_h5pactivity.maxscore' | translate }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">{{ 'addon.mod_h5pactivity.duration' | translate }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">{{ 'addon.mod_h5pactivity.completion' | translate }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center\\\">{{ 'core.success' | translate }}</ion-col>\\r\\n            </ion-row>\\r\\n        </ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <!-- List of attempts. -->\\r\\n    <ion-item class=\\\"ion-text-wrap addon-mod_h5pactivity-table-row\\\" *ngFor=\\\"let attempt of attempts\\\" button detail=\\\"true\\\"\\r\\n        [attr.aria-label]=\\\"'addon.mod_h5pactivity.viewattempt' | translate:{$a: attempt.attempt}\\\" (click)=\\\"openAttempt(attempt)\\\">\\r\\n\\r\\n        <ion-label>\\r\\n            <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                <ion-col class=\\\"ion-text-center\\\">{{ attempt.attempt }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center\\\" size=\\\"5\\\" size-md=\\\"2\\\">\\r\\n                    {{ attempt.timemodified | coreFormatDate:'strftimedatetimeshort' }}\\r\\n                </ion-col>\\r\\n                <ion-col class=\\\"ion-text-center\\\">\\r\\n                    {{ attempt.rawscore }}<span class=\\\"ion-hide-md-up\\\"> / {{ attempt.maxscore }}</span>\\r\\n                </ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">{{ attempt.maxscore }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">{{ attempt.durationReadable }}</ion-col>\\r\\n                <ion-col class=\\\"ion-text-center ion-hide-md-down\\\">\\r\\n                    <img *ngIf=\\\"attempt.completion\\\" src=\\\"assets/img/completion/completion-auto-y.svg\\\"\\r\\n                        [alt]=\\\"'addon.mod_h5pactivity.attempt_completion_yes' | translate\\\">\\r\\n                    <img *ngIf=\\\"!attempt.completion\\\" src=\\\"assets/img/completion/completion-auto-n.svg\\\"\\r\\n                        [alt]=\\\"'addon.mod_h5pactivity.attempt_completion_no' | translate\\\">\\r\\n                </ion-col>\\r\\n                <ion-col class=\\\"ion-text-center addon-mod_h5pactivity-table-success-col\\\">\\r\\n                    <ion-icon *ngIf=\\\"attempt.success !== null && attempt.success\\\" name=\\\"fas-check-circle\\\"\\r\\n                        [attr.aria-label]=\\\"'addon.mod_h5pactivity.attempt_success_pass' | translate\\\">\\r\\n                    </ion-icon>\\r\\n                    <ion-icon *ngIf=\\\"attempt.success !== null && !attempt.success\\\" name=\\\"far-circle\\\"\\r\\n                        [attr.aria-label]=\\\"'addon.mod_h5pactivity.attempt_success_fail' | translate\\\">\\r\\n                    </ion-icon>\\r\\n                    <img *ngIf=\\\"attempt.success === null\\\" src=\\\"assets/img/icons/empty.svg\\\"\\r\\n                        [alt]=\\\"'addon.mod_h5pactivity.attempt_success_unknown' | translate\\\">\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-label>\\r\\n    </ion-item>\\r\\n</ng-template>\\r\\n\";","// (C) Copyright 2015 Moodle Pty Ltd.\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { CoreSharedModule } from '@/core/shared.module';\r\nimport { AddonModH5PActivityUserAttemptsPage } from './user-attempts';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddonModH5PActivityUserAttemptsPage,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes),\r\n        CoreSharedModule,\r\n    ],\r\n    declarations: [\r\n        AddonModH5PActivityUserAttemptsPage,\r\n    ],\r\n    exports: [RouterModule],\r\n})\r\nexport class AddonModH5PActivityUserAttemptsPageModule {}\r\n","export default \":host .addon-mod_h5pactivity-table-header {\\n  font-weight: bold;\\n}\\n:host .addon-mod_h5pactivity-table-row .addon-mod_h5pactivity-table-success-col {\\n  font-size: 1.2em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hZGRvbnMvbW9kL2g1cGFjdGl2aXR5L3BhZ2VzL3VzZXItYXR0ZW1wdHMvdXNlci1hdHRlbXB0cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksaUJBQUE7QUFBUjtBQUdJO0VBQ0ksZ0JBQUE7QUFEUiIsImZpbGUiOiJzcmMvYWRkb25zL21vZC9oNXBhY3Rpdml0eS9wYWdlcy91c2VyLWF0dGVtcHRzL3VzZXItYXR0ZW1wdHMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIC5hZGRvbi1tb2RfaDVwYWN0aXZpdHktdGFibGUtaGVhZGVyIHtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIH1cclxuXHJcbiAgICAuYWRkb24tbW9kX2g1cGFjdGl2aXR5LXRhYmxlLXJvdyAuYWRkb24tbW9kX2g1cGFjdGl2aXR5LXRhYmxlLXN1Y2Nlc3MtY29sIHtcclxuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\";","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit } from '@angular/core';\nimport { IonRefresher } from '@ionic/angular';\n\nimport { CoreUser, CoreUserProfile } from '@features/user/services/user';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport {\n    AddonModH5PActivity,\n    AddonModH5PActivityAttempt,\n    AddonModH5PActivityData,\n    AddonModH5PActivityUserAttempts,\n} from '../../services/h5pactivity';\n\n/**\n * Page that displays user attempts of a certain user.\n */\n@Component({\n    selector: 'page-addon-mod-h5pactivity-user-attempts',\n    templateUrl: 'user-attempts.html',\n    styleUrls: ['user-attempts.scss'],\n})\nexport class AddonModH5PActivityUserAttemptsPage implements OnInit {\n\n    loaded = false;\n    courseId!: number;\n    cmId!: number;\n    h5pActivity?: AddonModH5PActivityData;\n    attemptsData?: AddonModH5PActivityUserAttempts;\n    user?: CoreUserProfile;\n    isCurrentUser = false;\n\n    protected userId!: number;\n    protected fetchSuccess = false;\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            this.cmId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n            this.userId = CoreNavigator.getRouteNumberParam('userId') || CoreSites.getCurrentSiteUserId();\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        this.isCurrentUser = this.userId == CoreSites.getCurrentSiteUserId();\n\n        await this.fetchData();\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     */\n    doRefresh(refresher: IonRefresher): void {\n        this.refreshData().finally(() => {\n            refresher.complete();\n        });\n    }\n\n    /**\n     * Get quiz data and attempt data.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fetchData(): Promise<void> {\n        try {\n            this.h5pActivity = await AddonModH5PActivity.getH5PActivity(this.courseId, this.cmId);\n\n            await Promise.all([\n                this.fetchAttempts(),\n                this.fetchUserProfile(),\n            ]);\n\n            if (!this.fetchSuccess) {\n                this.fetchSuccess = true;\n                CoreUtils.ignoreErrors(AddonModH5PActivity.logViewReport(\n                    this.h5pActivity.id,\n                    this.h5pActivity.name,\n                    { userId: this.userId },\n                ));\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading attempts.');\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Get attempts.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fetchAttempts(): Promise<void> {\n        if (!this.h5pActivity) {\n            return;\n        }\n\n        this.attemptsData = await AddonModH5PActivity.getUserAttempts(this.h5pActivity.id, {\n            cmId: this.cmId,\n            userId: this.userId,\n        });\n    }\n\n    /**\n     * Get user profile.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async fetchUserProfile(): Promise<void> {\n        try {\n            this.user = await CoreUser.getProfile(this.userId, this.courseId, true);\n        } catch (error) {\n            // Ignore errors.\n        }\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @return Promise resolved when done.\n     */\n    protected async refreshData(): Promise<void> {\n        const promises = [\n            AddonModH5PActivity.invalidateActivityData(this.courseId),\n        ];\n\n        if (this.h5pActivity) {\n            promises.push(AddonModH5PActivity.invalidateUserAttempts(this.h5pActivity.id, this.userId));\n        }\n\n        await CoreUtils.ignoreErrors(Promise.all(promises));\n\n        await this.fetchData();\n    }\n\n    /**\n     * Open the page to view an attempt.\n     *\n     * @param attempt Attempt.\n     */\n    openAttempt(attempt: AddonModH5PActivityAttempt): void {\n        CoreNavigator.navigate(`../../attemptresults/${attempt.id}`);\n    }\n\n}\n"],"sourceRoot":"webpack:///"}